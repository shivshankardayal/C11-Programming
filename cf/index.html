<html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><title>Chapter 8. Control Flow</title><link href="../../css/style.css" rel="stylesheet" type="text/css"/><meta content="DocBook XSL-NS Stylesheets V1.76.1" name="generator"/><link href="../index.html" rel="home" title="C Programming with C99"/><link href="../index.html" rel="up" title="C Programming with C99"/><link href="../oae/index.html" rel="prev" title="Chapter 7. Operators and Expressions"/><link href="../ix01.html" rel="next" title="Index"/><script src="../css/analytics.js" type="text/javascript" xmlns:d="http://docbook.org/ns/docbook" xmlns:exsl="http://exslt.org/common" xmlns:fo="http://www.w3.org/1999/XSL/Format"></script></head><body alink="#0000FF" bgcolor="white" link="#0000FF" text="black" vlink="#840084"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">Chapter 8. Control Flow</th></tr><tr><td align="left" width="20%"><a accesskey="p" href="../oae/index.html">Prev</a> </td><th align="center" width="60%"> </th><td align="right" width="20%"> <a accesskey="n" href="../ix01.html">Next</a></td></tr></table><hr/></div><div class="chapter" title="Chapter 8. Control Flow"><div class="titlepage"><div><div><h2 class="title"><a name="idp3242576"></a>Chapter 8. Control Flow</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="index.html#idp3245232">8.1. Storage Classes</a></span></dt><dt><span class="sect1"><a href="index.html#idp3254336">8.2. if else Statement</a></span></dt><dd><dl><dt><span class="sect2"><a href="index.html#idp3273696">8.2.1. Dangling else Problem</a></span></dt></dl></dd><dt><span class="sect1"><a href="index.html#idp3277328">8.3. switch Statement</a></span></dt></dl></div><p>There are three things you will learn in this chapter. Switching
      the path of execution in program depending upon program variables or
      states using control statements. Repeating a set of instructions using
      loops. Bypassing certain set of instructions in a loop and jump
      around. Collectively, these elements of C allow or enable you to take
      driver’s seat over the control over a C program. You will spend much of
      your programming time even in future using these basic elements. Let us
      begin with if-else without spending much time over boring stuff. Before
      we proceed I would like to tell you about storage classes of array and
      their scope. I could have covered it in second chapter but I did not want
      to scare you with too many things in itself.</p><div class="sect1" title="8.1. Storage Classes"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp3245232"></a>8.1. Storage Classes</h2></div></div></div><p>In C99 variables can be declared at any point in class without
	breaking an expression. This was not possible in older C and you could
	only declare at start of function. There is <code class="code">auto, register,
	static</code> and <code class="code">extern</code>.</p><p><code class="code">auto</code> is the default storage class for local
	variables. Local variables are those that are inside any function or
	any control-flow statement block. You will perhaps never use auto
	explicitly. For examle, <code class="code">auto int i; register</code> is the
	storage class which tell the compiler that this variable will be stored
	in a CPU register instead of RAM. It is mostly used for loop counters
	and to store small 32-bit or 64-bit variables in CPU register. For
	example, <code class="code">register int i;</code></p><p><code class="code">static</code> is the default storage class for global
	variables though local variables can also be made static. local static
	variables persist across function calls that is their values do not
	change.</p><p><code class="code">extern</code> keyword allows global variables to
	become visible in other modules than itself.</p><p>There are two more modifiers: <code class="code">const</code> and
	<code class="code">volatile</code>. As their names specify const makes a
	variable constant. That is you cannot change value of a variable
	declared as <code class="code">const</code>. <code class="code">volatile</code> is kind
	of opposite but not really opposite. What it does is that the programs
	other than the program itself where it has been declared are allowed to
	change it. This means that a variable can be a <code class="code">const</code>
	as well as <code class="code">volatile</code> at the same time.</p></div><div class="sect1" title="8.2. if else Statement"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp3254336"></a>8.2. if else Statement</h2></div></div></div><p>An if-else statement may consist of only <code class="code">if</code> or
	both <code class="code">if</code> and <code class="code">else</code> or
	<code class="code">if</code> and <code class="code">else if</code> or <code class="code">if, else
	if</code> and <code class="code">else</code>. An if-else statement must have
	<code class="code">if</code> at the beginning, zeor or more <code class="code">else
	if</code> may come after <code class="code">if</code> or before
	<code class="code">else</code> and <code class="code">else</code> must come at
	end. <code class="code">else if</code> and <code class="code">else</code> are optional
	and may not come. Consider the following program:</p><pre class="CLexer"><div class="highlight"><pre><span class="c1">//Author: Shiv S. Dayal</span>
<span class="c1">//Description : Demo of if-else statements.</span>

<span class="cp">#include &lt;stdio.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Please enter two integers i and j:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
  <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">i</span> <span class="p">,</span> <span class="o">&amp;</span><span class="n">j</span><span class="p">);</span>

  <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;you entered 4 for i.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

  <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="mi">7</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;you entered 7 for i.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;I am happy for you.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;You did not enter 7 for i.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="mi">7</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;you entered 7 for i.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;I am happy for you.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">j</span><span class="o">==</span><span class="mi">8</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;You entered 8 for i.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

  <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="mi">7</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;you entered my lucky number.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
  <span class="k">else</span> <span class="k">if</span><span class="p">((</span><span class="n">i</span><span class="o">==</span><span class="mi">7</span><span class="p">)</span> <span class="o">&amp;&amp;</span><span class="p">(</span><span class="n">j</span><span class="o">==</span><span class="mi">8</span><span class="p">))</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;May god bless you!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
  <span class="k">else</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;You entered bad number.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</pre>
and the output is:
<pre class="screen">Please enter two integers i and j:
4
6
you entered 4 for i.
You did not enter 7 for i.
You entered bad number.</pre><p>As you can see from first if sttatement that if you enter the value of
i as 4 then the printf will be executed and you will be able to see it. Note
that if there are multiple lines below if which you want to execute then you
must put them in a block using curly braces. If you just want to execute one
line then these curly braces are optional. Note that how you must use curly
braces if you have more than one line and you want to execute them. Also, see
the syntax for missing else and missing else if. One if-else can be nested
inside another for example see the following code:</p><pre class="CLexer"><div class="highlight"><pre><span class="c1">//Author: Shiv S. Dayal</span>
<span class="c1">//Description : Demo of if-else statements.</span>

<span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;string.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">char</span> <span class="n">fName</span><span class="p">[</span><span class="mi">128</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">},</span> <span class="n">lName</span><span class="p">[</span><span class="mi">128</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>

  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Enter your first name and last name in that order:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
  <span class="n">gets</span><span class="p">(</span><span class="n">fName</span><span class="p">);</span>
  <span class="n">gets</span><span class="p">(</span><span class="n">lName</span><span class="p">);</span>

  <span class="k">if</span><span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">fName</span><span class="p">,</span> <span class="s">&quot;Shiv&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">lName</span><span class="p">,</span> <span class="s">&quot;Dayal&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Your name is Shiv Dayal.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Your name is %s %s.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">fName</span><span class="p">,</span> <span class="n">lName</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</pre>
and the output is:
<pre class="screen">Enter your first name and last name in that order:
Shiv
Dayal
Your name is Shiv Dayal.</pre><p>another run:</p><pre class="screen">Enter your first name and last name in that order:
Richard
Stallman
Your name is Richard Stallman.</pre><p>when first if matches but else does not:</p><pre class="screen">Enter your first name and last name in that order:
Shiv
Stallman</pre><p>Note the usage of nested if-else. Also, note how
<code class="code">strcmp</code> has been used to compare two strings and
<code class="code">gets</code> to read the input. <code class="code">gets</code> is dangerous but
it is simple that is why has been used here. You can read about it at the link
of opengroup. We will see this in more detail towards the end when we deal with
chapter named C Standard Library.</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;" title="Assignment in if/else-if"><h3 class="title">Assignment in if/else-if</h3><p>Always remember the expression inside if evaluates to a boolean so
  you should never do an ASSIGNMENT inside if and else if as it will always
  evaluate to what is assigned. It can render all your logic meaningless. C is
  not Python, where assignment inside if is not allowed. However, if you assign
  0 to some variable it will evaluate to <code class="code">false</code>.</p></div><div class="sect2" title="8.2.1. Dangling else Problem"><div class="titlepage"><div><div><h3 class="title"><a name="idp3273696"></a>8.2.1. Dangling else Problem</h3></div></div></div><p>The <code class="code">else</code> part has a property that it will cling to
  closest if. So the following piece of code may give you surprise:</p><pre class="CLexer"><div class="highlight"><pre><span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
  <span class="k">if</span><span class="p">(</span><span class="n">y</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;foo</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="k">else</span>
  <span class="nf">printf</span><span class="p">(</span><span class="s">&quot;bar</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</pre><p>Now consider <code class="code">x!=1</code> then you may think that bar will be
printed. However, that will not be the case. The else part clings to inner
if. This can be fixed by using curly braces.</p></div></div><div class="sect1" title="8.3. switch Statement"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp3277328"></a>8.3. switch Statement</h2></div></div></div><p><code class="code">switch</code> statement is kind of if-else
	replacement to simplify it. Usage of switch statement is to compare one
	expression with others, and then execute a series of sub-statements
	inside case and default based on the result of the comparisons. Note
	that switch statement takes only integers or integreal type as its
	argument and same is valid for its cases. Consider the following
	example:</p><pre class="CLexer"><div class="highlight"><pre><span class="c1">//Author: Shiv S. Dayal</span>
<span class="c1">//Description : Demo of if-else statements.</span>

<span class="cp">#include &lt;stdio.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">i</span>  <span class="o">=</span> <span class="mi">65</span><span class="p">;</span>

  <span class="k">switch</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">case</span> <span class="sc">&#39;A&#39;</span>:
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Value of i is &#39;A&#39;.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="sc">&#39;B&#39;</span>:
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Value of i is &#39;B&#39;.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="nl">default:</span>
      <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</pre>
and the output is:
<pre class="screen">Value of i is 'A'.</pre><p>Notice the usage of <code class="code">break</code>. It is used to terminate
execution once a match has been found for a particular case else what will
happen is shown below:</p><pre class="CLexer"><div class="highlight"><pre><span class="c1">//Author: Shiv S. Dayal</span>
<span class="c1">//Description : Demo of switch statement.</span>

<span class="cp">#include &lt;stdio.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">i</span>  <span class="o">=</span> <span class="mi">65</span><span class="p">;</span>

  <span class="k">switch</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">case</span> <span class="sc">&#39;A&#39;</span>:
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Value of i is &#39;A&#39;.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
    <span class="k">case</span> <span class="sc">&#39;B&#39;</span>:
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Value of i is &#39;B&#39;.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
    <span class="nl">default:</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Value of i is %c.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</pre>
and the output is:
<pre class="screen">Value of i is 'A'.
Value of i is 'B'.
Value of i is A.</pre></div></div><div class="navfooter"><hr/><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="../oae/index.html">Prev</a> </td><td align="center" width="20%"> </td><td align="right" width="40%"> <a accesskey="n" href="../ix01.html">Next</a></td></tr><tr><td align="left" valign="top" width="40%">Chapter 7. Operators and Expressions </td><td align="center" width="20%"><a accesskey="h" href="../index.html">Home</a></td><td align="right" valign="top" width="40%"> Index</td></tr></table></div><p style="text-align: center;" xmlns:d="http://docbook.org/ns/docbook" xmlns:exsl="http://exslt.org/common" xmlns:fo="http://www.w3.org/1999/XSL/Format">© 2010, 2013 Shiv S. Dayal. <a href="http://libreprogramming.org">libreprogramming.org</a>.
   GNU FDL license is applicable where not stated.</p></body></html>