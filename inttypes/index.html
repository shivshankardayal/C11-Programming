<html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><title>Chapter 20. Format conversion of integer types <inttypes.h></title><link href="../../css/bootstrap.css" rel="stylesheet" type="text/css"/><link href="../../css/style.css" rel="stylesheet" type="text/css"/><meta content="DocBook XSL-NS Stylesheets V1.76.1" name="generator"/><link href="../index.html" rel="home" title="C Programming with C99"/><link href="../index.html" rel="up" title="C Programming with C99"/><link href="../float/index.html" rel="prev" title="Chapter 19. Characterictics of floating types <float.h>"/><link href="../iso646/index.html" rel="next" title="Chapter 21. Alternative spellings <iso646.h>"/><script src="../css/jquery.js" type="text/javascript" xmlns:d="http://docbook.org/ns/docbook" xmlns:exsl="http://exslt.org/common" xmlns:fo="http://www.w3.org/1999/XSL/Format"></script><script src="../css/bootstrap.js" type="text/javascript" xmlns:d="http://docbook.org/ns/docbook" xmlns:exsl="http://exslt.org/common" xmlns:fo="http://www.w3.org/1999/XSL/Format"></script><script src="../css/analytics.js" type="text/javascript" xmlns:d="http://docbook.org/ns/docbook" xmlns:exsl="http://exslt.org/common" xmlns:fo="http://www.w3.org/1999/XSL/Format"></script><script src="../../css/jquery.js" type="text/javascript" xmlns:d="http://docbook.org/ns/docbook" xmlns:exsl="http://exslt.org/common" xmlns:fo="http://www.w3.org/1999/XSL/Format"></script><script src="../../css/bootstrap.js" type="text/javascript" xmlns:d="http://docbook.org/ns/docbook" xmlns:exsl="http://exslt.org/common" xmlns:fo="http://www.w3.org/1999/XSL/Format"></script><script src="../../css/analytics.js" type="text/javascript" xmlns:d="http://docbook.org/ns/docbook" xmlns:exsl="http://exslt.org/common" xmlns:fo="http://www.w3.org/1999/XSL/Format"></script></head><body alink="#0000FF" bgcolor="white" link="#0000FF" text="black" vlink="#840084"><div id="navbar" class="navbar navbar-fixed-top">    <div class="navbar-inner">      <div class="container-fluid">      <a class="brand" href="../../">Home</a>      <a class="brand" href="../">Books</a>  <ul class="nav">  <li class="dropdown">      <a href="#"            class="dropdown-toggle"            data-toggle="dropdown">Chapter 20. Format conversion of integer types <inttypes.h><b class="caret"></b>      </a>      <ul class="dropdown-menu"><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="index.html#idp54800960">20.1. Macros for format specifiers</a></span></dt><dt><span class="sect1"><a href="index.html#idp55003168">20.2. Functions for greatest-width integer types</a></span></dt><dd><dl><dt><span class="sect2"><a href="index.html#idp55003936">20.2.1. The imaxabs function</a></span></dt><dt><span class="sect2"><a href="index.html#idp55010960">20.2.2. The imaxdiv function</a></span></dt><dt><span class="sect2"><a href="index.html#idp55531968">20.2.3. The strtoimax and strtoumax functions</a></span></dt><dt><span class="sect2"><a href="index.html#idp55544736">20.2.4. The wcstoimax and wcstoumax functions</a></span></dt></dl></dd></dl></div>     </ul>    </li>  </ul> <ul class="nav"><li><a href="../float/index.html">&lt;&lt; Chapter 19. Characterictics of floating types <float.h> </a><li><li><a href="../iso646/index.html"> Chapter 21. Alternative spellings <iso646.h> >></a><li></ul>    </div>    </div>  </div><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">Chapter 20. Format conversion of integer types <inttypes.h></th></tr><tr><td align="left" width="20%"><a accesskey="p" href="../float/index.html">Prev</a> </td><th align="center" width="60%"> </th><td align="right" width="20%"> <a accesskey="n" href="../iso646/index.html">Next</a></td></tr></table><hr/></div><div class="chapter" title="Chapter 20. Format conversion of integer types <inttypes.h>"><div class="titlepage"><div><div><h2 class="title"><a name="idp55334496"></a>Chapter 20. Format conversion of integer types <inttypes.h></h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="index.html#idp54800960">20.1. Macros for format specifiers</a></span></dt><dt><span class="sect1"><a href="index.html#idp55003168">20.2. Functions for greatest-width integer types</a></span></dt><dd><dl><dt><span class="sect2"><a href="index.html#idp55003936">20.2.1. The imaxabs function</a></span></dt><dt><span class="sect2"><a href="index.html#idp55010960">20.2.2. The imaxdiv function</a></span></dt><dt><span class="sect2"><a href="index.html#idp55531968">20.2.3. The strtoimax and strtoumax functions</a></span></dt><dt><span class="sect2"><a href="index.html#idp55544736">20.2.4. The wcstoimax and wcstoumax functions</a></span></dt></dl></dd></dl></div><p>The header <inttypes.h> includes the header
    <stdint.h> and extends it with additional facilities provided by
    hosted implementations.</p><p>It declares functions for manipulating greatest-width integers and
    converting numeric character strings to greatest-width integers, and it
    declares the type <code class="code">imaxdiv_t</code> which is a structure type that
    is the type of the value returned by the <code class="code">imaxdiv</code>
    function.</p><p>For each type declared in <stdint.h>, it defines
    corresponding macros for conversion specifiers for use with the formatted
    input/output functions.</p><p><span class="bold"><strong>Forward references:</strong></span> integer
    types <stdint.h> (Integer types <stdint.h>), formatted
    input/output functions (Formatted input/output functions), formatted wide
    character input/output functions (Formatted wide character input/output
    functions).</p><div class="sect1" title="20.1. Macros for format specifiers"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp54800960"></a>20.1. Macros for format specifiers</h2></div></div></div><p>Each of the following object-like macros<sup>[<a class="footnote" href="#ftn.idp54802032" name="idp54802032">162</a>]</sup> expands to a
      character string literal containing a conversion specifier, possibly
      modified by a length modifier, suitable for use within the format
      argument of a formatted input/output function when converting the
      corresponding integer type. These macro names have the general form of
      <code class="code">PRI</code> (character string literals for the
      <code class="code">fprintf</code> and <code class="code">fwprintf</code> family) or
      <code class="code">SCN</code> (character string literals for the
      <code class="code">fscanf</code> and <code class="code">fwscanf</code>
      family),<sup>[<a class="footnote" href="#ftn.idp54986352" name="idp54986352">163</a>]</sup> followed by the conversion specifier,
      followed by a name corresponding to a similar type name in Integer
      types. In these names, <code class="code">N</code> represents the width of the
      type as described in Integer types. For example,
      <code class="code">PRIdFAST32</code> can be used in a format string to print the
      value of an integer of type <code class="code">int_fast32_t</code>.</p><p>The <code class="code">fprintf</code> macros for signed integers
      are:</p><div class="blockquote"><blockquote class="blockquote"><p> PRIdN PRIdLEASTN PRIdFASTN PRIdMAX
      PRIdPTR</p><p>PRIiN PRIiLEASTN PRIiFASTN PRIiMAX
      PRIiPTR</p></blockquote></div><p>The <code class="code">fprintf</code> macros for unsigned integers
      are:</p><div class="blockquote"><blockquote class="blockquote"><p>PRIoN PRIoLEASTN PRIoFASTN PRIoMAX PRIoPTR</p><p>PRIuN PRIuLEASTN PRIuFASTN PRIuMAX PRIuPTR</p><p>PRIxN PRIxLEASTN PRIxFASTN PRIxMAX PRIxPTR</p><p>PRIXN PRIXLEASTN PRIXFASTN PRIXMAX PRIXPTR</p></blockquote></div><p>The <code class="code">fscanf</code> macros for signed integers
      are:</p><div class="blockquote"><blockquote class="blockquote"><p>SCNdN SCNdLEASTN SCNdFASTN SCNdMAX SCNdPTR</p><p>SCNiN SCNiLEASTN SCNiFASTN SCNiMAX SCNiPTR</p></blockquote></div><p>The <code class="code">fscanf</code> macros for unsigned integers
      are:</p><div class="blockquote"><blockquote class="blockquote"><p>SCNoN SCNoLEASTN SCNoFASTN SCNoMAX SCNoPTR</p><p>SCNuN SCNuLEASTN SCNuFASTN SCNuMAX SCNuPTR</p><p>SCNxN SCNxLEASTN SCNxFASTN SCNxMAX SCNxPTR</p></blockquote></div><p>For each type that the implementation provides in
      <stdint.h>, the corresponding fprintf macros shall be defined and
      the corresponding fscanf macros shall be defined unless the
      implementation does not have a suitable fscanf length modifier for the
      type.</p><p>EXAMPLE</p><pre class="CLexer"><div class="highlight"><pre><span class="cp">#include <inttypes.h></span>
<span class="cp">#include <wchar.h></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">uintmax_t</span> <span class="n">i</span> <span class="o">=</span> <span class="n">UINTMAX_MAX</span><span class="p">;</span> <span class="c1">// this type always exists</span>

  <span class="n">wprintf</span><span class="p">(</span><span class="s">L"The largest integer value is %020"</span> <span class="n">PRIxMAX</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</pre></div><div class="sect1" title="20.2. Functions for greatest-width integer types"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp55003168"></a>20.2. Functions for greatest-width integer types</h2></div></div></div><div class="sect2" title="20.2.1. The imaxabs function"><div class="titlepage"><div><div><h3 class="title"><a name="idp55003936"></a>20.2.1. The imaxabs function</h3></div></div></div><p><span class="bold"><strong>Synopsis</strong></span></p><pre class="CLexer"><div class="highlight"><pre><span class="cp">#include <inttypes.h></span>
<span class="kt">intmax_t</span> <span class="nf">imaxabs</span><span class="p">(</span><span class="kt">intmax_t</span> <span class="n">j</span><span class="p">);</span>
</pre></div>
</pre><p><span class="bold"><strong>Description</strong></span></p><p>The <code class="code">imaxabs</code> function computes the absolute value of an
integer <code class="code">j</code>. If the result cannot be represented, the behavior
is undefined.<sup>[<a class="footnote" href="#ftn.idp55008384" name="idp55008384">164</a>]</sup></p><p><span class="bold"><strong>Returns</strong></span></p><p>The <code class="code">imaxabs</code> function returns the absolute
value.</p></div><div class="sect2" title="20.2.2. The imaxdiv function"><div class="titlepage"><div><div><h3 class="title"><a name="idp55010960"></a>20.2.2. The imaxdiv function</h3></div></div></div><p><span class="bold"><strong>Synopsis</strong></span></p><pre class="CLexer"><div class="highlight"><pre><span class="cp">#include <inttypes.h></span>
<span class="kt">imaxdiv_t</span> <span class="nf">imaxdiv</span><span class="p">(</span><span class="kt">intmax_t</span> <span class="n">numer</span><span class="p">,</span> <span class="kt">intmax_t</span> <span class="n">denom</span><span class="p">);</span>
</pre></div>
</pre><p><span class="bold"><strong>Description</strong></span></p><p>The <code class="code">imaxdiv</code> function computes <code class="code">numer /
denom</code> and <code class="code">numer % denom</code> in a single
operation.</p><p><span class="bold"><strong>Returns</strong></span></p><p>The <code class="code">imaxdiv</code> function returns a structure of type
<code class="code">imaxdiv_t</code> comprising both the quotient and the remainder. The
structure shall contain (in either order) the members quot (the quotient) and
rem (the remainder), each of which has type <code class="code">intmax_t</code>. If
either part of the result cannot be represented, the behavior is
undefined.</p></div><div class="sect2" title="20.2.3. The strtoimax and strtoumax functions"><div class="titlepage"><div><div><h3 class="title"><a name="idp55531968"></a>20.2.3. The strtoimax and strtoumax functions</h3></div></div></div><p><span class="bold"><strong>Synopsis</strong></span></p><pre class="CLexer"><div class="highlight"><pre><span class="cp">#include <inttypes.h></span>
<span class="kt">intmax_t</span> <span class="nf">strtoimax</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="kr">restrict</span> <span class="n">nptr</span><span class="p">,</span>
<span class="kt">char</span> <span class="o">**</span> <span class="kr">restrict</span> <span class="n">endptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">base</span><span class="p">);</span>
<span class="kt">uintmax_t</span> <span class="nf">strtoumax</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="kr">restrict</span> <span class="n">nptr</span><span class="p">,</span>
<span class="kt">char</span> <span class="o">**</span> <span class="kr">restrict</span> <span class="n">endptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">base</span><span class="p">);</span>
</pre></div>
</pre><p><span class="bold"><strong>Description</strong></span></p><p>The <code class="code">strtoimax</code> and <code class="code">strtoumax</code> functions
are equivalent to the <code class="code">strtol, strtoll, strtoul</code> and
<code class="code">strtoull</code> functions, except that the initial portion of the
string is converted to <code class="code">intmax_t</code> and <code class="code">uintmax_t</code>
representation, respectively.</p><p><span class="bold"><strong>Returns</strong></span></p><p>The <code class="code">strtoimax</code> and <code class="code">strtoumax</code> functions
return the converted value, if any. If no conversion could be performed, zero
is returned. If the correct value is outside the range of representable values,
<code class="code">INTMAX_MAX, INTMAX_MIN</code> or <code class="code">UINTMAX_MAX</code> is
returned (according to the return type and sign of the value, if any), and the
value of the macro <code class="code">ERANGE</code> is stored in
<code class="code">errno</code>.</p><p><span class="bold"><strong>Forward references:</strong></span> the
<code class="code">strtol, strtoll, strtoul</code> and <code class="code">strtoull</code>
functions (The strtol, strtoll, strtoul and strtoull functions).</p></div><div class="sect2" title="20.2.4. The wcstoimax and wcstoumax functions"><div class="titlepage"><div><div><h3 class="title"><a name="idp55544736"></a>20.2.4. The wcstoimax and wcstoumax functions</h3></div></div></div><p><span class="bold"><strong>Synopsis</strong></span></p><pre class="CLexer"><div class="highlight"><pre><span class="cp">#include <stddef.h> </span><span class="c1">// for wchar_t</span>
<span class="cp">#include <inttypes.h></span>
<span class="kt">intmax_t</span> <span class="nf">wcstoimax</span><span class="p">(</span><span class="k">const</span> <span class="kt">wchar_t</span> <span class="o">*</span> <span class="kr">restrict</span> <span class="n">nptr</span><span class="p">,</span>
<span class="kt">wchar_t</span> <span class="o">**</span> <span class="kr">restrict</span> <span class="n">endptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">base</span><span class="p">);</span>
<span class="kt">uintmax_t</span> <span class="nf">wcstoumax</span><span class="p">(</span><span class="k">const</span> <span class="kt">wchar_t</span> <span class="o">*</span> <span class="kr">restrict</span> <span class="n">nptr</span><span class="p">,</span>
<span class="kt">wchar_t</span> <span class="o">**</span> <span class="kr">restrict</span> <span class="n">endptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">base</span><span class="p">);</span>
</pre></div>
</pre><p><span class="bold"><strong>Description</strong></span></p><p>The <code class="code">wcstoimax</code> and <code class="code">wcstoumax</code> functions
are equivalent to the <code class="code">wcstol, wcstoll, wcstoul</code> and
<code class="code">wcstoull</code> functions except that the initial portion of the wide
string is converted to <code class="code">intmax_t</code> and <code class="code">uintmax_t</code>
representation, respectively.</p><p><span class="bold"><strong>Returns</strong></span></p><p>The <code class="code">wcstoimax</code> function returns the converted value, if
any. If no conversion could be performed, zero is returned. If the correct
value is outside the range of representable values, <code class="code">INTMAX_MAX,
INTMAX_MIN</code> or <code class="code">UINTMAX_MAX</code> is returned (according to
the return type and sign of the value, if any), and the value of the macro
<code class="code">ERANGE</code> is stored in <code class="code">errno</code>.</p></div></div><div class="footnotes"><br/><hr align="left" width="100"/><div class="footnote"><p><sup>[<a class="para" href="#idp54802032" id="ftn.idp54802032">162</a>] </sup>C++
      implementations should define these macros only when
      <code class="code">__STDC_FORMAT_MACROS</code> is defined before
      <inttypes.h> is included.</p></div><div class="footnote"><p><sup>[<a class="para" href="#idp54986352" id="ftn.idp54986352">163</a>] </sup>Separate macros are given for use with
      <code class="code">fprintf</code> and <code class="code">fscanf</code> functions because,
      in the general case, different format specifiers may be required for
      <code class="code">fprintf</code> and <code class="code">fscanf</code>, even when the type
      is the same.</p></div><div class="footnote"><p><sup>[<a class="para" href="#idp55008384" id="ftn.idp55008384">164</a>] </sup>The absolute value of the most negative number
cannot be represented in two's complement.</p></div></div></div><div class="navfooter"><hr/><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="../float/index.html">Prev</a> </td><td align="center" width="20%"> </td><td align="right" width="40%"> <a accesskey="n" href="../iso646/index.html">Next</a></td></tr><tr><td align="left" valign="top" width="40%">Chapter 19. Characterictics of floating types <float.h> </td><td align="center" width="20%"><a accesskey="h" href="../index.html">Home</a></td><td align="right" valign="top" width="40%"> Chapter 21. Alternative spellings <iso646.h></td></tr></table></div><p style="text-align: center;" xmlns:d="http://docbook.org/ns/docbook" xmlns:exsl="http://exslt.org/common" xmlns:fo="http://www.w3.org/1999/XSL/Format">© 2010, 2013 Shiv S. Dayal. <a href="http://libreprogramming.org">libreprogramming.org</a>.
    GNU FDL license is applicable where not stated.</p></body></html>