<d:chapter version="5.0" xmlns:d="http://docbook.org/ns/docbook"
  xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink"
  xmlns:mml="http://www.w3.org/1998/Math/MathML">
  <?xml-stylesheet href="../css/style.css" type="text/css"?>
    <?dbhtml filename="env/index.html" ?>
    <d:title>Environment</d:title>
    <d:para>As last chapter was mapped to chapter 3 of specification similarly this chapter is
      mapped to chapter 5 of specification. Please refer to these sections simultaneously.</d:para>
    <d:para>We store source code in two different files with two different extensions. One regular
      expression for source code is *.c and the other is *.h. These files are stored in hard disk.
      When compiled it may produce *.o files optionally. Your program may also produce *.a, *.so,
      a.out (this name may be different for you if you provide -o switch to gcc. At least one *.a or
      *.so or a.out or its equivalent will be produced on unix systems. On Windows systems you may
      produce *.lib, *.dll or *.exe. *.lib, *.dll and *.exe map directly to their counterparts in
      Unix as *.a, *.so and a.out. These files are called static library, dynamic library, and
      executables respectively.</d:para>
    <d:para>An implementation translates C source files and executes C programs in two
      data-processing system environments, which will be called the <d:emphasis>translation
        environment</d:emphasis> and the <d:emphasis>execution environment</d:emphasis> in this
      International Standard. Their characteristics define and constrain the results of executing
      conforming C programs constructed according to the syntactic and semantic rules for conforming
      implementations.</d:para>
    <d:para>Just to ease the words translation environment is the machine where the program is being
      compiled and execution environment is the machine where the executables are/will be
      executed.</d:para>
    <d:sect1>
      <d:title>Conceptual Model</d:title>
      <d:sect2>
        <d:title>Translation Environment</d:title>
        <d:sect3>
          <d:title>Program Structure</d:title>
          <d:para>A C program need not all be translated at the same time. The text of the program
            is kept in units called <d:emphasis>source files</d:emphasis>, (or
              <d:emphasis>preprocessing files</d:emphasis>) in International Standard. A source file
            together with all the headers and source files included via the preprocessing directive
              <d:code>#include</d:code> is known as a <d:emphasis>preprocessing translation
              unit</d:emphasis>. After preprocessing, a preprocessing translation unit is called a
              <d:emphasis>translation unit</d:emphasis>. Previously translated translation units may
            be preserved individually or in libraries. The separate translation units of a program
            communicate by (for example) calls to functions whose identifiers have external linkage,
            manipulation of objects whose identifiers have external linkage, or manipulation of data
            files. Translation units may be separately translated and then later linked to produce
            an executable program.</d:para>
          <d:para>A normal C file is preprocessing <d:emphasis>translation unit</d:emphasis> while a
            file produced by output of <d:code>gcc -E filename.c</d:code> is a
              <d:emphasis>translation unit</d:emphasis>. For example, you can have two source files
            and three headers. <d:code>par1.c, part2.c, part1.h, part2.h</d:code> and
              <d:code>common.h</d:code>. Now these may be individually compiled to
              <d:code>part1.o</d:code> and <d:code>part2.o</d:code> and then linked to have a final
            program <d:code>output</d:code>.</d:para>
          <d:para><emphasis xmlns="http://docbook.org/ns/docbook" role="bold">Forward
              references:</emphasis> linkages of identifiers (Linkages of identifiers), external
            definitions (External definitions), preprocessing directives (Preprocessing
            Directives).</d:para>
        </d:sect3>
        <d:sect3>
          <d:title>Translation Phases</d:title>
          <d:para>The precedence among the syntax rules of translation is specified by the following phases.<d:footnote>
              <d:para>Implementations behave as if these separate phases occur, even though many are
                typically folded together in practice.</d:para>
            </d:footnote></d:para>
          <d:orderedlist>
            <d:listitem>
              <d:para>Physical source file multibyte characters are mapped, in an
                implementation-defined-manner, to the source character set (introducing newline
                characters for end-of-line indicators) if necessary. Trigraph sequences are replaced
                by corresponding single-character internal representations.</d:para>
              <d:para>Typically source file reside on HDD in source character set described in
                Character Sets{xref}. Sometimes they may also reside in other storage mediums also
                for example, floppy disk, USB drive etc. Implementation defines how multibyte
                characters will map to source character set. Different operating systems typically
                stored end-of-line in different ways. All these are converted to newline characters.
                Trigraph sequences are converted to their equivalents. For example, consider
                following:<d:programlisting role="CLexer">printf("??&lt;\n");</d:programlisting></d:para>
              <d:para>process it with command <d:code>gcc -E -trigraphs test.c</d:code> to get
                following:<d:programlisting role="CLexer"># 1 "test.c"
# 1 "&lt;built-in&gt;"
# 1 "&lt;command-line&gt;"
# 1 "test.c"
printf("{\n");</d:programlisting></d:para>
            </d:listitem>
            <d:listitem>
              <d:para>Each instance of a backslash character (\) immediately followed by a new-line
                character is deleted, splicing physical source lines to form logical source lines.
                Only the last backslash on any physical source line shall be eligible for being part
                of such a splice. A source file that is not empty shall end in a new-line character,
                which shall not be immediately preceded by a backslash character before any such
                splicing takes place.</d:para>
              <d:para>Consider
                following:<d:programlisting role="CLexer">printf("line 1 \
line 2");</d:programlisting></d:para>
              <d:para>processing it though preprocessor like <d:code>gcc -E test.c</d:code> will
                yield<d:programlisting role="CLexer"># 1 "test.c"
# 1 "&lt;built-in&gt;"
# 1 "&lt;command-line&gt;"
# 1 "test.c"
printf("line 1 line 2");</d:programlisting></d:para>
              <d:para>
                <d:programlisting role="CLexer">printf("line 1" \</d:programlisting>
              </d:para>
              <d:para>and<d:programlisting role="CLexer">#include "test1.c"
"line 2 \
line 3");</d:programlisting></d:para>
              <d:para>process <d:code>test2.c</d:code> to get
                following:<d:programlisting role="CLexer"># 1 "test1.c"
# 1 "&lt;built-in&gt;"
# 1 "&lt;command-line&gt;"
# 1 "test1.c"
# 1 "test.c" 1
printf("line 1"
# 2 "test1.c" 2
"line 2 line 3");</d:programlisting>If
                you omit newline at end of file then gcc will issue you a warning.</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>The source file is decomposed into preprocessing tokens <d:footnote>
                  <d:para>the process of dividing a source file's characters into preprocessing
                    tokens is context-dependent. For example, see the handling of
                      <d:code>&lt;</d:code> within a <d:code>#include</d:code> preprocessing
                    directive.</d:para>
                </d:footnote> and sequences of white-space characters (including comments). A source
                file shall not end in a partial preprocessing token or in a partial comment. Each
                comment is replaced by one space character. New-line characters are retained.
                Whether each nonempty sequence of white-space characters other than new-line is
                retained or replaced by one space character is implementation-defined.</d:para>
              <d:para>Modifying above example like:</d:para>
              <d:programlisting role="CLexer">#include "test1.c" // a comment
"line 2 \
line 3");</d:programlisting>
              <d:para>will yield:</d:para>
              <d:programlisting role="CLexer"># 1 "test1.c"
# 1 "&lt;built-in>"
# 1 "&lt;command-line>"
# 1 "test1.c"
# 1 "test.c" 1
printf("line 1"
# 2 "test1.c" 2
"line 2 line 3");</d:programlisting>
              <d:para>Two important points to note here are that new-lines are retained which is
                important for next step and comments are replaced by one space character. new-lines
                are needed to separate preprocessing directives and comments are needed to be
                replaced by one character else strange things may happen. Consider <d:code>int/*a
                  comment*/main()</d:code> being rendered as <d:code>intmain()</d:code> for example.
                For understanding the meaning of last sentence consider the following
                program:</d:para>
              <d:programlisting role="CLexer">#include &lt;stdio.h>

int main()  
{
  #define makestr(a) #a

  char *p = makestr(x          y);

  puts(p);
}</d:programlisting>
              <d:para>and the output is:</d:para>
              <d:programlisting role="CLexer">x y</d:programlisting>
              <d:para>so we can clearly say that <d:code>gcc</d:code> replaces multiple whitespace
                characters by one.</d:para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">Preprocessing directives are executed,
                macro invocations are expanded, and <code>_Pragma</code> unary operator expressions
                are executed. If a character sequence that matches the syntax of a universal
                character name is produced by token concatenation, the behavior is undefined. A
                  <code>#include</code> preprocessing directive causes the named header or source
                file to be processed from phase 1 through phase 4, recursively. All preprocessing
                directives are then deleted.</para>
              <d:para>For example:</d:para>
              <d:programlisting role="CLexer">#define MAX 5

#define MIN(a,b) ((a)&lt;(b)?(a):(b))

printf("%d", MAX)

printf(%d, MIN(5,7));</d:programlisting>
              <d:para>will become:</d:para>
              <d:programlisting role="CLexer"># 1 "test.c"
# 1 "&lt;built-in>"
# 1 "&lt;command-line>"
# 1 "test.c"




printf("%d", 5)

printf(%d, ((5)&lt;(7)?(5):(7)));</d:programlisting>
              <d:para>The #include preprocessing directives are processed in-depth first order. Once
                a header has been fully processed, processing resumes in the file that included it.
                15 levels of nesting can be done for header files(Translation limits) Before
                processing the header, the macros <d:code>__FILE__</d:code> and
                  <d:code>__LINE__</d:code> are set (and they are reset when processing resumes in
                the file containing the header).</d:para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">Each source character set member and
                escape sequence in character constants and string literals is converted to the
                corresponding member of the execution character set; if there is no corresponding
                member, it is converted to an implementation-defined member other than the null
                (wide) character.<footnote>
                  <para>An implementation need not convert all non-corresponding source characters
                    to the same execution character.</para>
                </footnote></para>
              <d:para>For most of the machines both source and execution characters sets are ASCII
                while some mainframes use EBCDIC as their character set.</d:para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">Adjacent string literal tokens are
                concatenated.</para>
              <para xmlns="http://docbook.org/ns/docbook">For example, consider:</para>
              <d:programlisting role="CLexer">#include &lt;stdio.h>

#define STR1 "hello "
#define STR2 "world"
int main()
{
  puts(STR1 STR2);
}</d:programlisting>
              <d:para>and the output is:</d:para>
              <d:programlisting>hello world</d:programlisting>
              <d:para>Note that this rule only applies to string literals not to character array or
                pointers because they contain null terminating character.</d:para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">White-space characters separating tokens
                are no longer significant. Each preprocessing token is converted into a token. The
                resulting tokens are syntactically and semantically analyzed and translated as a
                translation unit.</para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">All external object and function
                references are resolved. Library components are linked to satisfy external
                references to functions and objects not defined in the current translation. All such
                translator output is collected into a program image which contains information
                needed for execution in its execution environment.</para>
              <para xmlns="http://docbook.org/ns/docbook">These steps are typically carried out by
                the linker <code>ld</code>. </para>
            </d:listitem>
          </d:orderedlist>
          <d:para><emphasis xmlns="http://docbook.org/ns/docbook" role="bold">Forward
              references:</emphasis> universal character names (Universal character names), lexical
            elements (Universal character names), preprocessing directives (Preprocessing
            Directives), trigraph sequences (Trigraph sequences), external definitions (External
            definitions).</d:para>
        </d:sect3>
        <d:sect3>
          <d:title>Dignostics</d:title>
          <d:para>A conforming implementation shall produce at least one diagnostic message
            (identified in an implementation-defined manner) if a preprocessing translation unit or
            translation unit contains a violation of any syntax rule or constraint, even if the
            behavior is also explicitly specified as undefined or implementation-defined. Diagnostic
            messages need not be produced in other circumstances.<d:footnote>
              <d:para>The intent is that an implementation should identify the nature of, and where
                possible localize, each violation. Of course, an implementation is free to produce
                any number of diagnostics as long as a valid program is still correctly translated.
                It may also successfully translate an invalid program.</d:para>
            </d:footnote></d:para>
          <d:para>Note that it is a requirement imposed on implementation. Nothing about what these
            messages will contain. Implementations are also free to provide more than one message to
            assist the programmer locate the source of error and by other means as well like
            pointing out the line number and column number in program text.</d:para>
        </d:sect3>
      </d:sect2>
      <d:sect2>
        <d:title>Execution Environment</d:title>
        <d:para>Two execution environments are defined: <emphasis
            xmlns="http://docbook.org/ns/docbook" role="italic">freestanding</emphasis> and
            <emphasis xmlns="http://docbook.org/ns/docbook" role="italic">hosted</emphasis>. In both
          cases, <emphasis xmlns="http://docbook.org/ns/docbook" role="italic">program
            startup</emphasis> occurs when a designated C function is called by the execution
          environment. All objects with static storage duration shall be <emphasis
            xmlns="http://docbook.org/ns/docbook" role="italic">initialized</emphasis> (set to their
          initial values) before program startup. The manner and timing of such initialization are
          otherwise unspecified. <emphasis xmlns="http://docbook.org/ns/docbook" role="italic"
            >Program termination</emphasis> returns control to the execution environment.</d:para>
        <d:para><emphasis xmlns="http://docbook.org/ns/docbook" role="italic"
            >freestanding</emphasis> typically means embedded systems though not in
          standard.</d:para>
        <d:para><emphasis xmlns="http://docbook.org/ns/docbook" role="bold">Forward
            references:</emphasis> storage durations of objects (4.2.4), initialization
          (4.7.8).</d:para>
        <d:sect3>
          <d:title>Freestanding Environment</d:title>
          <d:para>In a freestanding environment (in which C program execution may take place without
            any benefit of an operating system), the name and type of the function called at program
            startup are implementation-defined. Any library facilities available to a freestanding
            program, other than the minimal set required by clause 4, are
            implementation-defined.</d:para>
          <d:para>The effect of program termination in a freestanding environment is
            implementation-defined.</d:para>
          <d:para>For example, consider the BIOS of PC which runs without an operating system. The
            startup function name need not be main. Since, such freestanding systems have scarce
            resources the requirement for conformance is only limited to a minimal set of library
            facilities. Sometimes it may not be even possible to stop the program running in a
            freestanding environment. Consider a PC without an operating system. BIOS will take over
            and how will it terminate. You will need to power off the system manually.</d:para>
        </d:sect3>
        <d:sect3>
          <d:title>Hosted Environment</d:title>
          <d:para>A hosted environment need not be provided, but shall conform to the following
            specifications if present.</d:para>
          <d:sect4>
            <d:title>Program Startup</d:title>
            <d:para>The function called at program startup is named main. The implementation
              declares no prototype for this function. It shall be defined with a return type of
                <d:code>int</d:code> and with no parameters:</d:para>
            <d:programlisting role="CLexer">int main(void) { /* ... */ }</d:programlisting>
            <d:para>or with two parameters (referred to here as argc and argv, though any names may
              be used, as they are local to the function in which they are declared):</d:para>
            <d:programlisting role="CLexer">int main(int argc, char *argv[]) { /* ... */ }</d:programlisting>
            <d:para>or equivalent;<d:footnote>
                <d:para>Thus, <d:code>int</d:code> can be replaced by a <d:code>typedef</d:code>
                  name defined as <d:code>int</d:code>, or the type of <d:code>argv</d:code> can be
                  written as <d:code>char ** argv</d:code>, and so on.</d:para>
              </d:footnote></d:para>
            <d:para>or in some other implementation defined manner. The function main must have
              external linkage. Also, the implementation or compiler should not have main function
              in any of the headers or libraries. Some implementations also provide a third argument
              called environment pointer or envp which contains environment variables of the
              systems.</d:para>
            <d:para>If they are declared, the parameters to the main function shall obey the
              following constraints:<d:itemizedlist>
                <d:listitem>
                  <para xmlns="http://docbook.org/ns/docbook">The value of <code>argc</code> shall
                    be nonnegative.</para>
                </d:listitem>
                <d:listitem>
                  <para xmlns="http://docbook.org/ns/docbook"><code>argv[argc]</code> shall be a
                    null pointer.</para>
                </d:listitem>
                <d:listitem>
                  <para xmlns="http://docbook.org/ns/docbook">If the value of <code>argc</code> is
                    greater than zero, the array members <code>argv[0]</code> through
                      <code>argv[argc-1]</code> inclusive shall contain pointers to strings, which
                    are given implementation-defined values by the host environment prior to program
                    startup. The intent is to supply to the program information determined prior to
                    program startup from elsewhere in the hosted environment. If the host
                    environment is not capable of supplying strings with letters in both uppercase
                    and lowercase, the implementation shall ensure that the strings are received in
                    lowercase.</para>
                </d:listitem>
                <d:listitem>
                  <para xmlns="http://docbook.org/ns/docbook">If the value of <code>argc</code> is
                    greater than zero, the string pointed to by <code>argv[0]</code> represents the
                    program name; <code>argv[0][0]</code> shall be the null character if the program
                    name is not available from the host environment. If the value of
                      <code>argc</code> is greater than one, the strings pointed to by
                      <code>argv[1]</code> through <code>argv[argc-1]</code> represent the <emphasis
                      role="italic">program parameters</emphasis>.</para>
                </d:listitem>
                <d:listitem>
                  <para xmlns="http://docbook.org/ns/docbook">The parameters <code>argc</code> and
                      <code>argv</code> and the strings pointed to by the <code>argv</code> array
                    shall be modifiable by the program, and retain their last-stored values between
                    program startup and program termination.</para>
                </d:listitem>
              </d:itemizedlist></d:para>
            <d:para>Let us see a program to summarize this:</d:para>
            <d:programlisting role="CLexer">#include &lt;stdio.h>
#include &lt;stdlib.h>

int main(int argc, char *argv[])
{
  for(int i=0; i&lt;argc; i++)
    printf("%s\n", argv[i]);

  if(argv[argc]==NULL)
    printf("argv[argc] is NULL pointer.\n");

  return 0;
}</d:programlisting>
            <d:para>and if we run it like</d:para>
            <d:para><d:code>$</d:code><d:command>./a.out 1 2 3 4 5 6</d:command></d:para>
            <d:para>we will see following output:</d:para>
            <d:screen>./a.out
1
2
3
4
5
6
argv[argc] is NULL pointer.</d:screen>
          </d:sect4>
          <d:sect4>
            <d:title>Program Execution</d:title>
            <d:para>In a hosted environment, a program may use all the functions, macros, type
              definitions, and objects described in the library clause (clause 7).</d:para>
          </d:sect4>
          <d:sect4>
            <d:title>Program Termination</d:title>
            <d:para>If the return type of the main function is a type compatible with int, a return
              from the initial call to the main function is equivalent to calling the exit function
              with the value returned by the main function as its argument;<d:footnote>
                <d:para>the lifetimes of objects with automatic storage duration declared in main
                  will have ended in the former case, even where they would not have in the
                  latter.</d:para>
              </d:footnote> reaching the } that terminates the main function returns a value of 0.
              If the return type is not compatible with int, the termination status returned to the
              host environment is unspecified.</d:para>
            <d:para><emphasis xmlns="http://docbook.org/ns/docbook" role="bold">Forward
                references:</emphasis> definition of terms (Definitions of terms), the exit function
              (The exit function).</d:para>
          </d:sect4>
        </d:sect3>
        <d:sect3>
          <title xmlns="http://docbook.org/ns/docbook">Program Execution</title>
          <d:orderedlist>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">The semantic descriptions in this
                International Standard describe the behavior of an abstract machine in which issues
                of optimization are irrelevant.</para>
              <para xmlns="http://docbook.org/ns/docbook">Optimization is very important from
                compilers aspect. However, it is of no concern for standard. The abstract machine in
                picture here has never been fully treated in the specification. There has been only
                one formally verified compiler with a subset of C. [Blazy] </para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">Accessing a volatile object, modifying an
                object, modifying a file, or calling a function that does any of those operations
                are all <emphasis role="italic">side effects</emphasis>,<footnote>
                  <para>The IEC 60559 standard for binary floating-point arithmetic requires certain
                    user-accessible status flags and control modes. Floating-point operations
                    implicitly set the status flags; modes affect result values of floating-point
                    operations. Implementations that support such floating-point state are required
                    to regard changes to it as side effects - see appendix for details. The
                    floating-point environment library &lt;fenv.h> provides a programming facility
                    for indicating when these side effects matter, freeing the implementations in
                    other cases.</para>
                </footnote> which are changes in the state of the execution environment. Evaluation
                of an expression may produce side effects. At certain specified points in the
                execution sequence called sequence points, all side effects of previous evaluations
                shall be complete and no side effects of subsequent evaluations shall have taken
                place. (A summary of the sequence points is given in appendix C).</para>
              <d:para>There is hardly anything you can do without causing side effects. No useful
                program can be written without causing side effects. The C library treats all I/O as
                operations on files. The state of a program in execution includes information about
                current flow of control. Access of a volatile object does not guarantee a change in
                state, however, it has to be treated as side effect.</d:para>
              <d:para>Functional language like Lisp, Erlang, Haskell etc designed to be side effect
                free. This helps in proving mathematical properties of a program.</d:para>
              <d:para>Expressions may also be evaluated for its result value. Consider
                following:<d:programlisting role="CLexer">#include &lt;stdio.h>

int main(void)
{
  int i=0;

  printf("Enter an integer.\n");
  scanf("%d", &amp;i);

  if(i%2==0)
    printf("Number entered is intger.\n");

  return 0;
}</d:programlisting></d:para>
              <d:para>here you can see that the value of expression i%2 can alter the flow of
                program. The definition of sequence points is given here and possible sequence
                points are discussed later in appendix C.</d:para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">In the abstract machine, all expressions
                are evaluated as specified by the semantics. An actual implementation need not
                evaluate part of an expression if it can deduce that its value is not used and that
                no needed side effects are produced (including any caused by calling a function or
                accessing a volatile object).</para>
              <d:para>The directions from specification here allow the implementation to optimize
                the machine code as they want. Note that this may result to certain items not
                discussed in specification. Any code which is translated and part of final machine
                code, but is never executed, is known as dead code. Similarly, a piece of code,
                which does not affect output of a program, is known as <emphasis
                  xmlns="http://docbook.org/ns/docbook" role="italic">redundant</emphasis>
                code.</d:para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">When the processing of the abstract
                machine is interrupted by receipt of a signal, only the values of objects as of the
                previous sequence point may be relied on. Objects that may be modified between the
                previous sequence point and the next sequence point need not have received their
                correct values yet.</para>
              <para xmlns="http://docbook.org/ns/docbook">As you may know about modern processors
                have pipelines so before a signal is pipelined more sequence points may be
                pipelined, however, we cannot rely on that. </para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">The least requirements on a conforming
                implementation are:</para>
              <d:itemizedlist>
                <d:listitem>
                  <para xmlns="http://docbook.org/ns/docbook">At sequence points, volatile objects
                    are stable in the sense that previous accesses are complete and subsequent
                    accesses have not yet occurred.</para>
                </d:listitem>
                <d:listitem>
                  <para xmlns="http://docbook.org/ns/docbook">The input and output dynamics of
                    interactive devices shall take place as specified in Files. The intent of these
                    requirements is that unbuffered or line-buffered output appear as soon as
                    possible, to ensure that prompting messages actually appear prior to a program
                    waiting for input.</para>
                </d:listitem>
              </d:itemizedlist>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">What constitutes an interactive device is
                implementation-defined.</para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">More stringent correspondences between
                abstract and actual semantics may be defined by each implementation.</para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">EXAMPLE 1 An implementation might define a
                one-to-one correspondence between abstract and actual semantics: at every sequence
                point, the values of the actual objects would agree with those specified by the
                abstract semantics. The keyword <code>volatile </code>would then be
                redundant.</para>
              <para xmlns="http://docbook.org/ns/docbook"><code>volatile</code> can only be
                redundant if the implementation is able to tell the order of evaluation of an
                expression containing <code>volatile</code> objects. </para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">Alternatively, an implementation might
                perform various optimizations within each translation unit, such that the actual
                semantics would agree with the abstract semantics only when making function calls
                across translation unit boundaries. In such an implementation, at the time of each
                function entry and function return where the calling function and the called
                function are in different translation units, the values of all externally linked
                objects and of all objects accessible via pointers therein would agree with the
                abstract semantics. Furthermore, at the time of each such function entry the values
                of the parameters of the called function and of all objects accessible via pointers
                therein would agree with the abstract semantics. In this type of implementation,
                objects referred to by interrupt service routines activated by the
                  <code>signal</code> function would require explicit specification of
                  <code>volatile</code> storage, as well as other implementation-defined
                restrictions.</para>
              <para xmlns="http://docbook.org/ns/docbook">Requirement that the code declare all
                object accessed by interrupt service routines as <code>volatile</code> is difficult
                to achieve in practice because such routines can be invoked in many ways. </para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">EXAMPLE 2 In executing the
                fragment<programlisting role="CLexer">char c1, c2;
/* ... */
c1 = c1 + c2;</programlisting></para>
              <d:para>the “integer promotions” require that the abstract machine promote the value
                of each variable to int size and then add the two ints and truncate the sum.
                Provided the addition of two chars can be done without overflow, or with overflow
                wrapping silently to produce the correct result, the actual execution need only
                produce the same result, possibly omitting the promotions.</d:para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">EXAMPLE 3 Similarly, in the
                fragment<programlisting role="CLexer">float f1, f2;
double d;
/* ... */
f1 = f2 * d;</programlisting></para>
              <d:para>the multiplication may be executed using single-precision arithmetic if the
                implementation can ascertain that the result would be the same as if it were
                executed using double-precision arithmetic (for example, if d were replaced by the
                constant 2.0, which has type <d:code>double</d:code>).</d:para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">EXAMPLE 4 Implementations employing wide
                registers have to take care to honor appropriate semantics. Values are independent
                of whether they are represented in a register or in memory. For example, an implicit
                spilling of a register is not permitted to alter the value. Also, an explicit store
                and load is required to round to the precision of the storage type. In particular,
                casts and assignments are required to perform their specified conversion. For the
                fragment<d:programlisting role="CLexer">double d1, d2;
float f;
d1 = f = expression;
d2 = (float) expression;</d:programlisting></para>
              <d:para>the values assigned to d1 and d2 are required to have been converted to
                float.</d:para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">EXAMPLE 5 Rearrangement for floating-point
                expressions is often restricted because of limitations in precision as well as
                range. The implementation cannot generally apply the mathematical associative rules
                for addition or multiplication, nor the distributive rule, because of roundoff
                error, even in the absence of overflow and underflow. Likewise, implementations
                cannot generally replace decimal constants in order to rearrange expressions. In the
                following fragment, rearrangements suggested by mathematical rules for real numbers
                are often not valid (see F.8).</para>
              <d:programlisting role="CLexer">double x, y, z;
/* ... */
x = (x * y) * z; // not equivalent to x *= y * z;
z = (x - y) + y; // not equivalent to z = x;
z = x + x * y;   // not equivalent to z = x * (1.0 + y);
y = x / 5.0;     // not equivalent to y = x * 0.2;</d:programlisting>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">EXAMPLE 6 To illustrate the grouping
                behavior of expressions, in the following fragment</para>
              <d:programlisting role="CLexer">int a, b;
/* ... */
a = a + 32760 + b + 5;</d:programlisting>
              <d:para>the expression statement behaves exactly the same as:</d:para>
              <d:programlisting role="CLexer">a = (((a + 32760) + b) + 5);</d:programlisting>
              <d:para>due to the associativity and precedence of these operators. Thus, the result
                of the sum <d:code>(a + 32760)</d:code> is next added to <d:code>b</d:code>, and
                that result is then added to <d:code>5</d:code> which results in the value assigned
                to a. On a machine in which overflows produce an explicit trap and in which the
                range of values representable by an int is <d:code>[-32768, +32767]</d:code>, the
                implementation cannot rewrite this expression as <d:code>a = ((a + b) +
                  32765);</d:code> since if the values for <d:code>a</d:code> and <d:code>b</d:code>
                were, respectively, <d:code>-32754</d:code> and <d:code>-15</d:code>, the sum
                  <d:code>a + b</d:code> would produce a trap while the original expression would
                not; nor can the expression be rewritten either as:</d:para>
              <d:programlisting role="CLexer">a = ((a + 32765) + b);</d:programlisting>
              <d:para>or:</d:para>
              <d:programlisting role="CLexer">a = (a + (b + 32765));</d:programlisting>
              <d:para>since the values for a and b might have been, respectively, <d:code>4</d:code>
                and <d:code>-8</d:code> or <d:code>-17</d:code> and <d:code>12</d:code>. However, on
                a machine in which overflow silently generates some value and where positive and
                negative overflows cancel, the above expression statement can be rewritten by the
                implementation in any of the above ways because the same result will occur.</d:para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">EXAMPLE 7 The grouping of an expression
                does not completely determine its evaluation. In the following fragment</para>
              <d:programlisting role="CLexer">#include &lt;stdio.h>
int sum;
char *p;
/* ... */
sum = sum * 10 - '0' + (*p++ = getchar());</d:programlisting>
              <d:para>the expression statement is grouped as if it were written as:</d:para>
              <d:programlisting role="CLexer">sum = (((sum * 10) - '0') + ((*(p++)) = (getchar())));</d:programlisting>
              <d:para>but the actual increment of p can occur at any time between the previous
                sequence point and the next sequence point (the ;), and the call to getchar can
                occur at any point prior to the need of its returned value.</d:para>
            </d:listitem>
          </d:orderedlist>
          <d:para><emphasis xmlns="http://docbook.org/ns/docbook" role="bold">Forward
              references:</emphasis> expressions (Expressions), type qualifiers (Type qualifiers),
            statements (Statements and blocks), the signal function (The signal function), files
            (Files).</d:para>
        </d:sect3>
      </d:sect2>
    </d:sect1>
    <d:sect1>
      <d:title>Environmental Conditions</d:title>
      <d:sect2>
        <d:title>Character Sets</d:title>
        <d:orderedlist>
          <d:listitem>
            <para xmlns="http://docbook.org/ns/docbook">Two sets of characters and their associated
              collating sequences shall be defined: the set in which source files are written (the
              source character set), and the set interpreted in the execution environment (the
                <emphasis role="italic">execution character set</emphasis>). Each set is further
              divided into a basic character set, whose contents are given by this subclause, and a
              set of zero or more locale-specific members (which are not members of the basic
              character set) called extended characters. The combined set is also called the
              extended character set. The values of the members of the execution character set are
              implementation-defined.</para>
          </d:listitem>
          <d:listitem>
            <para xmlns="http://docbook.org/ns/docbook">In a character constant or string literal,
              members of the execution character set shall be represented by corresponding members
              of the source character set or by escape sequences consisting of the backslash
              followed by one or more characters. A byte with all bits set to 0, called the null
              character, shall exist in the basic execution character set; it is used to terminate a
              character string.</para>
          </d:listitem>
          <d:listitem>
            <para xmlns="http://docbook.org/ns/docbook">Both the basic source and basic execution
              character sets shall have the following members: the 26 uppercase letters of the Latin
              alphabet:</para>
            <d:programlisting>A B C D E F G H I J K L: M N O P Q R S T U V W X Y Z</d:programlisting>
            <d:para>the 26 lowercase letters of the Latin alphabet:</d:para>
            <d:programlisting>a b c d e f g h i j k l m n o p q r s t u v w x y z</d:programlisting>
            <d:para>the 10 decimal digits:</d:para>
            <d:programlisting>0 1 2 3 4 5 6 7 8 9</d:programlisting>
            <d:para>the following 29 graphic characters:</d:para>
            <d:programlisting>~ ! # % ^ &amp; * ( ) - _ = + \ | [ ] { } ; : ' " , &lt; . > / ?</d:programlisting>
            <d:para> the space character, and control characters representing horizontal tab,
              vertical tab, and form feed. The representation of each member of the source and
              execution basic character sets shall fit in a byte. In both the source and execution
              basic character sets, the value of each character after 0 in the above list of decimal
              digits shall be one greater than the value of the previous. In source files, there
              shall be some way of indicating the end of each line of text; this International
              Standard treats such an end-of-line indicator as if it were a single new-line
              character. In the basic execution character set, there shall be control characters
              representing alert, backspace, carriage return, and new line. If any other characters
              are encountered in a source file (except in an identifier, a character constant, a
              string literal, a header name, a comment, or a preprocessing token that is never
              converted to a token), the behavior is undefined.</d:para>
            <d:para>These character sets are also described in The C Character Set .</d:para>
          </d:listitem>
          <d:listitem>
            <para xmlns="http://docbook.org/ns/docbook">A <emphasis role="italic">letter</emphasis>
              is an uppercase letter or a lowercase letter as defined above; in this International
              Standard the term does not include other characters that are letters in other
              alphabets.</para>
          </d:listitem>
          <d:listitem>
            <para xmlns="http://docbook.org/ns/docbook">The universal character name construct
              provides a way to name other characters.</para>
          </d:listitem>
        </d:orderedlist>
        <d:para><emphasis xmlns="http://docbook.org/ns/docbook" role="bold">Forward
            references:</emphasis> universal character names (Universal character names), character
          constants (Character constants), preprocessing directives (Preprocessing Directives),
          string literals (String literals), comments (Comments), string (Introduction).</d:para>
        <d:sect3>
          <d:title>Trigraph Sequences</d:title>
          <d:para>All occurrences in a source file of the following sequences of three characters
            (called trigraph sequence<d:footnote>
              <d:para>The trigraph sequences enable the input of characters that are not defined in
                the Invariant Code Set as described in ISO/IEC 646, which is a subset of the
                seven-bit US ASCII code set.</d:para>
            </d:footnote>) are replaced with the corresponding single character.<table
              xmlns="http://docbook.org/ns/docbook" frame="border" border="1" class="centered">
              <caption>Trigraph Sequence</caption>
	      <colgroup width="0*" />
	      <colgroup width="0*" />
	      <colgroup width="0*" />
	      <colgroup width="0*" />
	      <colgroup width="0*" />
	      <colgroup width="0*" />
              <thead>
                <tr bgcolor="#aaa">
                  <th>Trigraph</th>
                  <th>Equivalent</th>
                  <th>Trigraph</th>
                  <th>Equivalent</th>
                  <th>Trigraph</th>
                  <th>Equivalent</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>??=</td>
                  <td>#</td>
                  <td>??'</td>
                  <td>^</td>
                  <td>??!</td>
                  <td>|</td>
                </tr>
                <tr>
                  <td>??(</td>
                  <td>[</td>
                  <td>??)</td>
                  <td>]</td>
                  <td>??&lt;</td>
                  <td>{</td>
                </tr>
                <tr>
                  <td>??></td>
                  <td>}</td>
                  <td>??/</td>
                  <td>\</td>
                  <td>??-</td>
                  <td>~</td>
                </tr>
              </tbody>
            </table></d:para>
          <d:para>This table is also given in The C Character Set . No other trigraph sequences
            exist. Each ? that does not begin one of the trigraphs listed above is not
            changed.</d:para>
          <d:para>EXAMPLE The following source line</d:para>
          <d:programlisting role="CLexer">printf("Eh???/n");</d:programlisting>
          <d:para>becomes (after replacement of the trigraph sequence <d:code>??/</d:code>)</d:para>
          <d:programlisting role="CLexer">printf("Eh?\n");</d:programlisting>
        </d:sect3>
        <d:sect3>
          <d:title>Multibyte Characters</d:title>
          <d:para>The source character set may contain multibyte characters, used to represent
            members of the extended character set. The execution character set may also contain
            multibyte characters, which need not have the same encoding as for the source character
            set. For both character sets, the following shall hold:</d:para>
          <d:itemizedlist>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook"> The basic character set shall be present
                and each character shall be encoded as a single byte.</para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">A multibyte character set may have a
                  <emphasis role="italic">state-dependent encoding</emphasis>, wherein each sequence
                of multibyte characters begins in an <emphasis role="italic">initial shift
                  state</emphasis> and enters other locale-specific shift states when specific
                multibyte characters are encountered in the sequence. While in the initial shift
                state, all single-byte characters retain their usual interpretation and do not alter
                the shift state. The interpretation for subsequent bytes in the sequence is a
                function of the current shift state.</para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">A byte with all bits zero shall be
                interpreted as a null character independent of shift state. Such a byte shall not
                occur as part of any other multibyte character. </para>
            </d:listitem>
          </d:itemizedlist>
          <d:para>For source files, the following shall hold:</d:para>
          <d:itemizedlist>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook"> An identifier, comment, string literal,
                character constant, or header name shall begin and end in the initial shift
                state.</para>
            </d:listitem>
            <d:listitem>
              <para xmlns="http://docbook.org/ns/docbook">An identifier, comment, string literal,
                character constant, or header name shall consist of a sequence of valid multibyte
                characters.</para>
              <para xmlns="http://docbook.org/ns/docbook">For example, accented characters fall in
                this category. </para>
            </d:listitem>
          </d:itemizedlist>
        </d:sect3>
      </d:sect2>
      <d:sect2>
        <title xmlns="http://docbook.org/ns/docbook">Character Display Semantics</title>
        <d:para>The <emphasis xmlns="http://docbook.org/ns/docbook" role="italic">active
            position</emphasis> is that location on a display device where the next character output
          by the <d:code>fputc</d:code> function would appear. The intent of writing a printing
          character (as defined by the <d:code>isprint</d:code> function) to a display device is to
          display a graphic representation of that character at the active position and then advance
          the active position to the next position on the current line. The direction of writing is
          locale-specific. If the active position is at the final position of a line (if there is
          one), the behavior of the display device is unspecified. Following escape sequences are
          also treated in <emphasis xmlns="http://docbook.org/ns/docbook" role="italic">Escape
            Sequences</emphasis>.</d:para>
        <d:para>Alphabetic escape sequences representing nongraphic characters in the execution
          character set are intended to produce actions on display devices as follows:</d:para>
        <d:para>\a (<emphasis xmlns="http://docbook.org/ns/docbook" role="italic">alert</emphasis>)
          Produces an audible or visible alert without changing the active position.</d:para>
        <d:para>\b (<emphasis xmlns="http://docbook.org/ns/docbook" role="italic"
            >backspace</emphasis>) Moves the active position to the previous position on the current
          line. If the active position is at the initial position of a line, the behavior of the
          display device is unspecified.</d:para>
        <d:para>\f (<emphasis xmlns="http://docbook.org/ns/docbook" role="italic">form
            feed</emphasis>) Moves the active position to the initial position at the start of the
          next logical page.</d:para>
        <d:para>\n (<emphasis xmlns="http://docbook.org/ns/docbook" role="italic">new
            line</emphasis>) Moves the active position to the initial position of the next
          line.</d:para>
        <d:para>\r (<emphasis xmlns="http://docbook.org/ns/docbook" role="italic">carriage
            return</emphasis>) Moves the active position to the initial position of the current
          line.</d:para>
        <d:para>\t (<emphasis xmlns="http://docbook.org/ns/docbook" role="italic">horizontal
            tab</emphasis>) Moves the active position to the next horizontal tabulation position on
          the current line. If the active position is at or past the last defined horizontal
          tabulation position, the behavior of the display device is unspecified.</d:para>
        <d:para>\v (<emphasis xmlns="http://docbook.org/ns/docbook" role="italic">vertical
            tab</emphasis>) Moves the active position to the initial position of the next vertical
          tabulation position. If the active position is at or past the last defined vertical
          tabulation position, the behavior of the display device is unspecified.</d:para>
        <d:para>Each of these escape sequences shall produce a unique implementation-defined value
          which can be stored in a single char object. The external representations in a text file
          need not be identical to the internal representations, and are outside the scope of this
          International Standard.</d:para>
        <d:para><emphasis xmlns="http://docbook.org/ns/docbook" role="bold">Forward
            references:</emphasis> the isprint function (The isprint function), the fputc function
          (The fputc function).</d:para>
      </d:sect2>
      <d:sect2>
        <d:title>Signals and Iterrupts</d:title>
        <d:para>Functions shall be implemented such that they may be interrupted at any time by a
          signal, or may be called by a signal handler, or both, with no alteration to earlier, but
          still active, invocations’ control flow (after the interruption), function return values,
          or objects with automatic storage duration. All such objects shall be maintained outside
          the function image (the instructions that compose the executable representation of a
          function) on a per-invocation basis.</d:para>
      </d:sect2>
      <d:sect2>
        <d:title>Environmental Limits</d:title>
        <d:para>Both the translation and execution environments constrain the implementation of
          language translators and libraries. The following summarizes the language-related
          environmental limits on a conforming implementation; the library-related limits are
          discussed in chapter 13 onwards.</d:para>
        <d:sect3>
          <d:title>Translation limits</d:title>
          <d:para>The implementation shall be able to translate and execute at least one program
            that contains at least one instance of every one of the following limits:<d:footnote>
              <d:para>Implementations should avoid imposing fixed translation limits whenever
                possible.</d:para>
            </d:footnote></d:para>
          <d:itemizedlist>
            <d:listitem>
              <d:para>127 nesting levels of blocks</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>63 nesting levels of conditional inclusion</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>12 pointer, array, and function declarators (in any combinations) modifying an
                arithmetic, structure, union, or incomplete type in a declaration</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>63 nesting levels of parenthesized declarators within a full
                declarator</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>63 nesting levels of parenthesized expressions within a full
                expression</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>63 significant initial characters in an internal identifier or a macro name
                (each universal character name or extended source character is considered a single
                character)</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>31 significant initial characters in an external identifier (each universal
                character name specifying a short identifier of 0000FFFF or less is considered 6
                characters, each universal character name specifying a short identifier of 00010000
                or more is considered 10 characters, and each extended source character is
                considered the same number of characters as the corresponding universal character
                name, if any)</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>4095 external identifiers in one translation unit</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>511 identifiers with block scope declared in one block</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>4095 macro identifiers simultaneously defined in one preprocessing translation
                unit</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>127 parameters in one function definition</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>127 arguments in one function call</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>127 parameters in one macro definition</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>127 arguments in one macro invocation</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>4095 characters in a logical source line</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>4095 characters in a character string literal or wide string literal (after
                concatenation)</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>65535 bytes in an object (in a hosted environment only)</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>15 nesting levels for <d:code>#include</d:code> files</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>1023 case labels for a <d:code>switch</d:code> statement (excluding those for
                any nested <d:code>switch</d:code> statements)</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>1023 members in a single structure or union</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>1023 enumeration constants in a single enumeration</d:para>
            </d:listitem>
            <d:listitem>
              <d:para>63 levels of nested structure or union definitions in a single
                struct-declaration-list</d:para>
            </d:listitem>
          </d:itemizedlist>
        </d:sect3>
        <d:sect3>
          <d:title>Numerical Limits</d:title>
          <d:para>An implementation is required to document all the limits specified in this
            subclause, which are specified in the headers <d:code>&lt;limits.h></d:code> and
              <d:code>&lt;float.h></d:code>. Additional limits are specified in
              <d:code>&lt;stdint.h></d:code>.</d:para>
          <d:para><emphasis xmlns="http://docbook.org/ns/docbook" role="bold">Forward
              references:</emphasis> integer types <d:code>&lt;stdint.h></d:code> (Integer types
              <d:code>&lt;stdint.h></d:code>).</d:para>
          <d:sect4>
            <d:title>Sizes of integer types &lt;limits.h></d:title>
            <d:para>The values given below shall be replaced by constant expressions suitable for
              use in <d:code>#if</d:code> preprocessing directives. Moreover, except for
                <d:code>CHAR_BIT</d:code> and <d:code>MB_LEN_MAX</d:code>, the following shall be
              replaced by expressions that have the same type as would an expression that is an
              object of the corresponding type converted according to the integer promotions. Their
              implementation-defined values shall be equal or greater in magnitude (absolute value)
              to those shown, with the same sign.</d:para>
            <d:itemizedlist>
              <d:listitem>
                <d:para>number of bits for smallest object that is not a bit-field (byte)</d:para>
                <d:para><d:code>CHAR_BIT 8</d:code></d:para>
              </d:listitem>
              <d:listitem>
                <d:para>minimum value for an object of type <d:code>signed char</d:code></d:para>
                <d:para><d:code>SCHAR_MIN -127 </d:code><d:inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:mo>-</mml:mo>
                        <mml:msup>
                          <mml:mn>2</mml:mn>
                          <mml:mn>7</mml:mn>
                        </mml:msup>
                        <mml:mtext> </mml:mtext>
                        <mml:mo>-</mml:mo>
                        <mml:mtext> 1</mml:mtext>
                      </mml:mrow>
                    </mml:math>
                  </d:inlineequation>
                </d:para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">maximum value for an object of type
                    <code>signed char</code></para>
                <para xmlns="http://docbook.org/ns/docbook"><code>SCHAR_MAX 127 </code><inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:msup>
                          <mml:mn>2</mml:mn>
                          <mml:mn>7</mml:mn>
                        </mml:msup>
                        <mml:mtext> </mml:mtext>
                        <mml:mo>-</mml:mo>
                        <mml:mtext> 1</mml:mtext>
                      </mml:mrow>
                    </mml:math>
                  </inlineequation></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">maximum value for an object of type
                    <code>unsigned char</code></para>
                <para xmlns="http://docbook.org/ns/docbook"><code>UCHAR_MAX 255 </code><inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:msup>
                          <mml:mn>2</mml:mn>
                          <mml:mn>8</mml:mn>
                        </mml:msup>
                        <mml:mtext> </mml:mtext>
                        <mml:mo>-</mml:mo>
                        <mml:mtext> 1</mml:mtext>
                      </mml:mrow>
                    </mml:math>
                  </inlineequation></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">minimum value for an object of type
                    <code>char</code></para>
                <para xmlns="http://docbook.org/ns/docbook"><code>CHAR_MIN</code>
                  <emphasis role="italic">see below</emphasis></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">maximum value for an object of type
                    <code>char</code></para>
                <para xmlns="http://docbook.org/ns/docbook"><code>CHAR_MAX</code>
                  <emphasis role="italic">see below</emphasis></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">maximum number of bytes in a multibyte
                  character, for any supported locale</para>
                <para xmlns="http://docbook.org/ns/docbook"><code>MB_LEN_MAX 1</code></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">minimum value for an object of type
                    <code>short int</code></para>
                <para xmlns="http://docbook.org/ns/docbook"><code>SHRT_MIN -32767 </code><d:inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:mo>-</mml:mo>
                        <mml:msup>
                          <mml:mn>2</mml:mn>
                          <mml:mn>15</mml:mn>
                        </mml:msup>
                        <mml:mtext> </mml:mtext>
                        <mml:mo>-</mml:mo>
                        <mml:mtext> 1</mml:mtext>
                      </mml:mrow>
                    </mml:math>
                  </d:inlineequation></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">maximum value for an object of type
                    <code>short int</code></para>
                <para xmlns="http://docbook.org/ns/docbook"><code>SHRT_MAX +32767 </code><d:inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:msup>
                          <mml:mn>2</mml:mn>
                          <mml:mn>15</mml:mn>
                        </mml:msup>
                        <mml:mtext> </mml:mtext>
                        <mml:mo>-</mml:mo>
                        <mml:mtext> 1</mml:mtext>
                      </mml:mrow>
                    </mml:math>
                  </d:inlineequation></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">maximum value for an object of type
                    <code>unsigned short int</code></para>
                <para xmlns="http://docbook.org/ns/docbook"><code>USHRT_MAX 65535 </code><d:inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:msup>
                          <mml:mn>2</mml:mn>
                          <mml:mn>16</mml:mn>
                        </mml:msup>
                        <mml:mtext> </mml:mtext>
                        <mml:mo>-</mml:mo>
                        <mml:mtext> 1</mml:mtext>
                      </mml:mrow>
                    </mml:math>
                  </d:inlineequation></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">minimum value for an object of type
                    <code>int</code></para>
                <para xmlns="http://docbook.org/ns/docbook"><code>INT_MIN -32767 </code><d:inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:mo>-</mml:mo>
                        <mml:msup>
                          <mml:mn>2</mml:mn>
                          <mml:mn>15</mml:mn>
                        </mml:msup>
                        <mml:mtext> </mml:mtext>
                        <mml:mo>-</mml:mo>
                        <mml:mtext> 1</mml:mtext>
                      </mml:mrow>
                    </mml:math>
                  </d:inlineequation></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">maximum value for an object of type
                    <code>int</code></para>
                <para xmlns="http://docbook.org/ns/docbook"><code>INT_MAX +32767 </code><d:inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:msup>
                          <mml:mn>2</mml:mn>
                          <mml:mn>15</mml:mn>
                        </mml:msup>
                        <mml:mtext> </mml:mtext>
                        <mml:mo>-</mml:mo>
                        <mml:mtext> 1</mml:mtext>
                      </mml:mrow>
                    </mml:math>
                  </d:inlineequation></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">maximum value for an object of type
                    <code>unsigned int</code></para>
                <para xmlns="http://docbook.org/ns/docbook"><code>UINT_MAX 65535 </code><d:inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:msup>
                          <mml:mn>2</mml:mn>
                          <mml:mn>16</mml:mn>
                        </mml:msup>
                        <mml:mtext> </mml:mtext>
                        <mml:mo>-</mml:mo>
                        <mml:mtext> 1</mml:mtext>
                      </mml:mrow>
                    </mml:math>
                  </d:inlineequation></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">minimum value for an object of type
                    <code>long int</code></para>
                <para xmlns="http://docbook.org/ns/docbook"><code>LONG_MIN -2147483647 </code><d:inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:mo>-</mml:mo>
                        <mml:msup>
                          <mml:mn>2</mml:mn>
                          <mml:mn>31</mml:mn>
                        </mml:msup>
                        <mml:mtext> </mml:mtext>
                        <mml:mo>-</mml:mo>
                        <mml:mtext> 1</mml:mtext>
                      </mml:mrow>
                    </mml:math>
                  </d:inlineequation></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">maximum value for an object of type
                    <code>long int</code></para>
                <para xmlns="http://docbook.org/ns/docbook"><code>LONG_MAX +2147483647 </code><d:inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:msup>
                          <mml:mn>2</mml:mn>
                          <mml:mn>31</mml:mn>
                        </mml:msup>
                        <mml:mtext> </mml:mtext>
                        <mml:mo>-</mml:mo>
                        <mml:mtext> 1</mml:mtext>
                      </mml:mrow>
                    </mml:math>
                  </d:inlineequation></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">maximum value for an object of type
                    <code>unsigned long int</code></para>
                <para xmlns="http://docbook.org/ns/docbook"><code>ULONG_MAX 4294967295 </code><d:inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:msup>
                          <mml:mn>2</mml:mn>
                          <mml:mn>32</mml:mn>
                        </mml:msup>
                        <mml:mtext> </mml:mtext>
                        <mml:mo>-</mml:mo>
                        <mml:mtext> 1</mml:mtext>
                      </mml:mrow>
                    </mml:math>
                  </d:inlineequation></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">minimum value for an object of type
                    <code>long long int</code></para>
                <para xmlns="http://docbook.org/ns/docbook"><code>LLONG_MIN -9223372036854775807 </code><d:inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:mo>-</mml:mo>
                        <mml:msup>
                          <mml:mn>2</mml:mn>
                          <mml:mn>63</mml:mn>
                        </mml:msup>
                        <mml:mtext> </mml:mtext>
                        <mml:mo>-</mml:mo>
                        <mml:mtext> 1</mml:mtext>
                      </mml:mrow>
                    </mml:math>
                  </d:inlineequation></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">maximum value for an object of type
                    <code>long long int</code></para>
                <para xmlns="http://docbook.org/ns/docbook"><code>LLONG_MAX +9223372036854775807 </code><d:inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:msup>
                          <mml:mn>2</mml:mn>
                          <mml:mn>63</mml:mn>
                        </mml:msup>
                        <mml:mtext> </mml:mtext>
                        <mml:mo>-</mml:mo>
                        <mml:mtext> 1</mml:mtext>
                      </mml:mrow>
                    </mml:math>
                  </d:inlineequation></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">maximum value for an object of type
                    <code>unsigned long long int</code></para>
                <para xmlns="http://docbook.org/ns/docbook"><code>ULLONG_MAX 18446744073709551615 </code><d:inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:msup>
                          <mml:mn>2</mml:mn>
                          <mml:mn>64</mml:mn>
                        </mml:msup>
                        <mml:mtext> </mml:mtext>
                        <mml:mo>-</mml:mo>
                        <mml:mtext> 1</mml:mtext>
                      </mml:mrow>
                    </mml:math>
                  </d:inlineequation></para>
              </d:listitem>
            </d:itemizedlist>
            <d:para>If the value of an object of type char is treated as a signed integer when used
              in an expression, the value of <d:code>CHAR_MIN</d:code> shall be the same as that of
                <d:code>SCHAR_MIN</d:code> and the value of <d:code>CHAR_MAX</d:code> shall be the
              same as that of <d:code>SCHAR_MAX</d:code>. Otherwise, the value of
                <d:code>CHAR_MIN</d:code> shall be 0 and the value of <d:code>CHAR_MAX</d:code>
              shall be the same as that of <d:code>UCHAR_MAX</d:code>.<d:footnote>
                <d:para>See Types.</d:para>
              </d:footnote> The value <d:code>UCHAR_MAX</d:code> shall equal <d:inlineequation>
                <mml:math>
                  <mml:mrow>
                    <mml:msup>
                      <mml:mn>2</mml:mn>
                      <mml:mtext>CHAR_BIT</mml:mtext>
                    </mml:msup>
                    <mml:mtext> </mml:mtext>
                    <mml:mo>-</mml:mo>
                    <mml:mtext> 1</mml:mtext>
                  </mml:mrow>
                </mml:math>
              </d:inlineequation>.</d:para>
          </d:sect4>
          <d:sect4>
            <d:title>Characteristics of floating types &lt;float.h></d:title>
            <d:para>The characteristics of floating types are defined in terms of a model that
              describes a representation of floating-point numbers and values that provide
              information about an implementation’s floating-point arithmetic.<d:footnote>
                <d:para>The floating-point model is intended to clarify the description of each
                  floating-point characteristic and does not require the floating-point arithmetic
                  of the implementation to be identical.</d:para>
              </d:footnote> The following parameters are used to define the model for each
              floating-point type<table xmlns="http://docbook.org/ns/docbook" frame="void"
                class="leftcenter">
	      <colgroup width="0*"/>
	      <colgroup width="0*"/>
                <tbody>
                  <tr>
                    <td><inlineequation>
                        <mml:math>
                          <mml:mtext>s</mml:mtext>
                        </mml:math>
                      </inlineequation></td>
                    <td>sign</td>
                  </tr>
                  <tr>
                    <td><inlineequation>
                        <mml:math>
                          <mml:mtext>b</mml:mtext>
                        </mml:math>
                      </inlineequation></td>
                    <td>base or radix of exponent representation (an integer > 1)</td>
                  </tr>
                  <tr>
                    <td><inlineequation>
                        <mml:math>
                          <mml:mtext>e</mml:mtext>
                        </mml:math>
                      </inlineequation></td>
                    <td>exponent (an integer between a minimum emin and a maximum emax )</td>
                  </tr>
                  <tr>
                    <td><inlineequation>
                        <mml:math>
                          <mml:mtext>p</mml:mtext>
                        </mml:math>
                      </inlineequation></td>
                    <td>precision (the number of base-b digits in the significand)</td>
                  </tr>
                  <tr>
                    <td><inlineequation>
                        <mml:math>
                          <mml:msub>
                            <mml:mtext>f</mml:mtext>
                            <mml:mtext>k</mml:mtext>
                          </mml:msub>
                        </mml:math>
                      </inlineequation></td>
                    <td>nonnegative integers less than b (the significand digits)</td>
                  </tr>
                </tbody>
              </table></d:para>
            <d:para>A <emphasis xmlns="http://docbook.org/ns/docbook" role="italic">floating-point
                number (x)</emphasis> is defined by the following model:<d:equation>
                <mml:math mathvariant="italic">
                  <mml:mrow>
                    <mml:mtext>x</mml:mtext>
                    <mml:mo>=</mml:mo>
                    <mml:mtext>s</mml:mtext>
                    <mml:msup>
                      <mml:mtext>b</mml:mtext>
                      <mml:mtext>e</mml:mtext>
                    </mml:msup>
                    <mml:munderover>
                      <mml:mo>∑</mml:mo>
                      <mml:mrow>
                        <mml:mtext>k</mml:mtext>
                        <mml:mo>=</mml:mo>
                        <mml:mn>1</mml:mn>
                      </mml:mrow>
                      <mml:mtext>p</mml:mtext>
                    </mml:munderover>
                    <mml:msub>
                      <mml:mtext>f</mml:mtext>
                      <mml:mtext>k</mml:mtext>
                    </mml:msub>
                    <mml:msup>
                      <mml:mtext>b</mml:mtext>
                      <mml:mrow>
                        <mml:mo>-</mml:mo>
                        <mml:mtext>k</mml:mtext>
                      </mml:mrow>
                    </mml:msup>
                    <mml:mtext>,</mml:mtext>
                    <mml:msub>
                      <mml:mtext>e</mml:mtext>
                      <mml:mtext mathvariant="normal">min</mml:mtext>
                    </mml:msub>
                    <mml:mo>≤</mml:mo>
                    <mml:mtext>e</mml:mtext>
                    <mml:mo>≤</mml:mo>
                    <mml:msub>
                      <mml:mtext>e</mml:mtext>
                      <mml:mtext mathvariant="normal">max</mml:mtext>
                    </mml:msub>
                  </mml:mrow>
                </mml:math>
              </d:equation></d:para>
            <d:para>In addition to normalized floating-point numbers <d:inlineequation>
                <mml:math>
                  <mml:mrow>
                    <mml:msub>
                      <mml:mtext>f</mml:mtext>
                      <mml:mn>1</mml:mn>
                    </mml:msub>
                    <mml:mtext> </mml:mtext>
                    <mml:mo>></mml:mo>
                    <mml:mtext> 0</mml:mtext>
                  </mml:mrow>
                </mml:math>
              </d:inlineequation> if <d:inlineequation>
                <mml:math>
                  <mml:mrow>
                    <mml:mtext>x </mml:mtext>
                    <mml:mo>≠</mml:mo>
                    <mml:mtext>0</mml:mtext>
                  </mml:mrow>
                </mml:math>
              </d:inlineequation>, floating types may be able to contain other kinds of
              floating-point numbers, such as subnormal floating-point numbers <d:inlineequation>
                <mml:math>
                  <mml:mrow>
                    <mml:mtext>x </mml:mtext>
                    <mml:mo>≠</mml:mo>
                    <mml:mtext>0, e </mml:mtext>
                    <mml:mo>=</mml:mo>
                    <mml:mtext> </mml:mtext>
                    <mml:msub>
                      <mml:mtext>e</mml:mtext>
                      <mml:mtext>min</mml:mtext>
                    </mml:msub>
                    <mml:mtext>, </mml:mtext>
                    <mml:msub>
                      <mml:mtext>f</mml:mtext>
                      <mml:mn>1</mml:mn>
                    </mml:msub>
                    <mml:mtext> </mml:mtext>
                    <mml:mo>=</mml:mo>
                    <mml:mtext> 0</mml:mtext>
                  </mml:mrow>
                </mml:math>
              </d:inlineequation> and unnormalized floating-point numbers <d:inlineequation>
                <mml:math>
                  <mml:mrow>
                    <mml:mtext>x </mml:mtext>
                    <mml:mo>≠</mml:mo>
                    <mml:mtext>0, e </mml:mtext>
                    <mml:mo>> </mml:mo>
                    <mml:mtext> </mml:mtext>
                    <mml:msub>
                      <mml:mtext>e</mml:mtext>
                      <mml:mtext>min</mml:mtext>
                    </mml:msub>
                    <mml:mtext>, </mml:mtext>
                    <mml:msub>
                      <mml:mtext>f</mml:mtext>
                      <mml:mn>1</mml:mn>
                    </mml:msub>
                    <mml:mtext> </mml:mtext>
                    <mml:mo>=</mml:mo>
                    <mml:mtext> 0</mml:mtext>
                  </mml:mrow>
                </mml:math>
              </d:inlineequation> and values that are not floating-point numbers, such as infinities
              and NaNs. A NaN is an encoding signifying Not-a-Number. A quiet NaN propagates through
              almost every arithmetic operation without raising a floating-point exception; a
              signaling NaN generally raises a floating-point exception when occurring as an
              arithmetic operand.<d:footnote>
                <d:para>IEC 60559:1989 specifies quiet and signaling NaNs. For implementations that
                  do not support IEC 60559:1989, the terms quiet NaN and signaling NaN are intended
                  to apply to encodings with similar behavior.</d:para>
              </d:footnote></d:para>
            <d:para>An implementation may give zero and non-numeric values (such as infinities and
              NaNs) a sign or may leave them unsigned. Wherever such values are unsigned, any
              requirement in this International Standard to retrieve the sign shall produce an
              unspecified sign, and any requirement to set the sign shall be ignored.</d:para>
            <d:para>The accuracy of the floating-point operations (<d:code>+, -, *, /</d:code>) and
              of the library functions in <d:code>&lt;math.h></d:code> and
                <d:code>&lt;complex.h></d:code> that return floating-point results is
              implementation-defined, as is the accuracy of the conversion between floating-point
              internal representations and string representations performed by the library functions
              in <d:code>&lt;stdio.h>, &lt;stdlib.h></d:code> and <d:code>&lt;wchar.h></d:code>. The
              implementation may state that the accuracy is unknown.</d:para>
            <d:para>All integer values in the <d:code>&lt;float.h></d:code> header, except
                <d:code>FLT_ROUNDS</d:code>, shall be constant expressions suitable for use in
                <d:code>#if</d:code> preprocessing directives; all floating values shall be constant
              expressions. All except <d:code>DECIMAL_DIG, FLT_EVAL_METHOD, FLT_RADIX</d:code> and
                <d:code>FLT_ROUNDS</d:code> have separate names for all three floating-point types.
              The floating- point model representation is provided for all values except
                <d:code>FLT_EVAL_METHOD</d:code> and <d:code>FLT_ROUNDS</d:code>.</d:para>
            <d:para>The rounding mode for floating-point addition is characterized by the
              implementation- defined value of <d:code>FLT_ROUNDS</d:code>:<d:footnote>
                <d:para>Evaluation of <d:code>FLT_ROUNDS</d:code> correctly reflects any
                  execution-time change of rounding mode through the function fesetround in
                    <d:code>&lt;fenv.h></d:code>.</d:para>
              </d:footnote></d:para>
            <table xmlns="http://docbook.org/ns/docbook" frame="void" class="leftcenter">
	      <colgroup width="0*"/>
	      <colgroup width="0*"/>
              <tbody>
                <tr>
                  <td>-1</td>
                  <td>indeterminate</td>
                </tr>
                <tr>
                  <td>0</td>
                  <td>toward zero</td>
                </tr>
                <tr>
                  <td>1</td>
                  <td>to nearest</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>toward positive infinity</td>
                </tr>
                <tr>
                  <td>3</td>
                  <td>toward negative infinity</td>
                </tr>
              </tbody>
            </table>
            <d:para>All other values for <d:code>FLT_ROUNDS</d:code> characterize
              implementation-defined rounding behavior. The four rounding methods were also
              described in Terms, Definitions and Symbols. The values of operations with floating
              operands and values subject to the usual arithmetic conversions and of floating
              constants are evaluated to a format whose range and precision may be greater than
              required by the type. The use of evaluation formats is characterized by the
              implementation-defined value of <d:code>FLT_EVAL_METHOD</d:code>:<d:footnote>
                <d:para>The evaluation method determines evaluation formats of expressions involving
                  all floating types, not just real types. For example, if
                    <d:code>FLT_EVAL_METHOD</d:code> is 1, then the product of two <d:code>float
                    _Complex</d:code> operands is represented in the <d:code>double
                    _Complex</d:code> format, and its parts are evaluated to
                  <d:code>double</d:code>.</d:para>
              </d:footnote><table xmlns="http://docbook.org/ns/docbook" frame="void"
	      class="leftcenter">
	      <colgroup width="0*" />
	      <colgroup width="0*" />
	      <tbody>
		<tr>
		  <td>-1</td>
		  <td>indeterminate</td>
		</tr>
                  <tr>
                    <td>0</td>
                    <td>evaluate all operations and constants just to the range and precision of the
                      type;</td>
                  </tr>
                  <tr>
                    <td>1</td>
                    <td>evaluate operations and constants of type <code>float</code> and
                        <code>double</code> to the range and precision of the <code>double</code>
                      type, evaluate <code>long double</code> operations and constants to the range
                      and precision of the <code>long double</code> type;</td>
                  </tr>
                  <tr>
                    <td>2</td>
                    <td>evaluate all operations and constants to the range and precision of the
                        <code>long double</code> type.</td>
                  </tr>
                </tbody>
              </table></d:para>
            <d:para>All other negative values for <d:code>FLT_EVAL_METHOD</d:code> characterize
              implementation-defined behavior.</d:para>
            <d:para>The values given in the following list shall be replaced by constant expressions
              with implementation-defined values that are greater or equal in magnitude (absolute
              value) to those shown, with the same sign:</d:para>
            <d:itemizedlist>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">radix of exponent representation, <inlineequation>
                    <mml:math>
                      <mml:mtext>b</mml:mtext>
                    </mml:math>
                  </inlineequation></para>
                <para xmlns="http://docbook.org/ns/docbook">
                  <code> FLT_RADIX 2</code></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">number of base-<code>FLT_RADIX</code>
                  digits in the floating-point significand, <inlineequation>
                    <mml:math>
                      <mml:mtext>p</mml:mtext>
                    </mml:math>
                  </inlineequation><screen>    FLT_MANT_DIG
    DBL_MANT_DIG
    LDBL_MANT_DIG</screen></para>
              </d:listitem>
              <d:listitem>
                <para xmlns="http://docbook.org/ns/docbook">number of decimal digits, <inlineequation>
                    <mml:math>
                      <mml:mtext>n</mml:mtext>
                    </mml:math>
                  </inlineequation>, such that any floating-point number in the widest supported
                  floating type with <inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mtext>p</mml:mtext>
                          <mml:mtext>max</mml:mtext>
                        </mml:msub>
                      </mml:mrow>
                    </mml:math>
                  </inlineequation> radix <inlineequation>
                    <mml:math>
                      <mml:mtext>b</mml:mtext>
                    </mml:math>
                  </inlineequation> digits can be rounded to a floating-point number with <inlineequation>
                    <mml:math>
                      <mml:mtext>n</mml:mtext>
                    </mml:math>
                  </inlineequation> decimal digits and back again without change to the value, <informalequation>
                    <mml:math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
                      <mml:mtable columnalign="right left" rowspacing="3pt" columnspacing="0.278em">
                        <mml:mtr>
                          <mml:mtd>
                            <mml:mfenced open="{" close="">
                              <mml:mtable columnalign="left left" rowspacing="4pt"
                                columnspacing="1em">
                                <mml:mtr>
                                  <mml:mtd>
                                    <mml:msub>
                                      <mml:mi>p</mml:mi>
                                      <mml:mrow class="MJX-TeXAtom-ORD">
                                        <mml:mi>m</mml:mi>
                                        <mml:mi>a</mml:mi>
                                        <mml:mi>x</mml:mi>
                                      </mml:mrow>
                                    </mml:msub>
                                    <mml:msub>
                                      <mml:mi>log</mml:mi>
                                      <mml:mrow class="MJX-TeXAtom-ORD">
                                        <mml:mn>10</mml:mn>
                                      </mml:mrow>
                                    </mml:msub>
                                    <mml:mo>&#x2061;<!-- ⁡ --></mml:mo>
                                    <mml:mi>b</mml:mi>
                                  </mml:mtd>
                                  <mml:mtd>
                                    <mml:mspace width="1em"/>
                                    <mml:mtext>if&#xA0;</mml:mtext>
                                    <mml:mi>b</mml:mi>
                                    <mml:mtext>&#xA0;is a power of 10</mml:mtext>
                                  </mml:mtd>
                                </mml:mtr>
                                <mml:mtr>
                                  <mml:mtd>
                                    <mml:mo fence="false" stretchy="false"
                                      >&#x2308;<!-- ⌈ --></mml:mo>
                                    <mml:mn>1</mml:mn>
                                    <mml:mo>+</mml:mo>
                                    <mml:msub>
                                      <mml:mi>p</mml:mi>
                                      <mml:mrow class="MJX-TeXAtom-ORD">
                                        <mml:mi>m</mml:mi>
                                        <mml:mi>a</mml:mi>
                                        <mml:mi>x</mml:mi>
                                      </mml:mrow>
                                    </mml:msub>
                                    <mml:msub>
                                      <mml:mi>log</mml:mi>
                                      <mml:mrow class="MJX-TeXAtom-ORD">
                                        <mml:mn>10</mml:mn>
                                      </mml:mrow>
                                    </mml:msub>
                                    <mml:mo>&#x2061;<!-- ⁡ --></mml:mo>
                                    <mml:mi>b</mml:mi>
                                    <mml:mo fence="false" stretchy="false"
                                      >&#x2309;<!-- ⌉ --></mml:mo>
                                  </mml:mtd>
                                  <mml:mtd>
                                    <mml:mspace width="1em"/>
                                    <mml:mtext>otherwise</mml:mtext>
                                  </mml:mtd>
                                </mml:mtr>
                              </mml:mtable>
                            </mml:mfenced>
                          </mml:mtd>
                        </mml:mtr>
                      </mml:mtable>
                    </mml:math>
                  </informalequation><screen>    DECIMAL_DIG 10
</screen></para>
              </d:listitem>
              <d:listitem>
                <d:para>number of decimal digits, <d:inlineequation>
                    <mml:math>
                      <mml:mtext>q</mml:mtext>
                    </mml:math>
                  </d:inlineequation>, such that any floating-point number with <d:inlineequation>
                    <mml:math>
                      <mml:mtext>q</mml:mtext>
                    </mml:math>
                  </d:inlineequation> decimal digits can be rounded into a floating-point number
                  with <d:inlineequation>
                    <mml:math>
                      <mml:mtext>p</mml:mtext>
                    </mml:math>
                  </d:inlineequation> radix <d:inlineequation>
                    <mml:math>
                      <mml:mtext>b</mml:mtext>
                    </mml:math>
                  </d:inlineequation> digits and back again without change to the <d:inlineequation>
                    <mml:math>
                      <mml:mtext>q</mml:mtext>
                    </mml:math>
                  </d:inlineequation> decimal digits,<d:informalequation>
                    <mml:math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
                      <mml:mtable columnalign="right left" rowspacing="3pt" columnspacing="0.278em">
                        <mml:mtr>
                          <mml:mtd>
                            <mml:mfenced open="{" close="">
                              <mml:mtable columnalign="left left" rowspacing="4pt"
                                columnspacing="1em">
                                <mml:mtr>
                                  <mml:mtd>
                                    <mml:mi>p</mml:mi>
                                    <mml:msub>
                                      <mml:mi>log</mml:mi>
                                      <mml:mrow class="MJX-TeXAtom-ORD">
                                        <mml:mn>10</mml:mn>
                                      </mml:mrow>
                                    </mml:msub>
                                    <mml:mo>&#x2061;<!-- ⁡ --></mml:mo>
                                    <mml:mi>b</mml:mi>
                                  </mml:mtd>
                                  <mml:mtd>
                                    <mml:mspace width="1em"/>
                                    <mml:mtext>if&#xA0;</mml:mtext>
                                    <mml:mi>b</mml:mi>
                                    <mml:mtext>&#xA0;is a power of 10</mml:mtext>
                                  </mml:mtd>
                                </mml:mtr>
                                <mml:mtr>
                                  <mml:mtd>
                                    <mml:mo fence="false" stretchy="false"
                                      >&#x230A;<!-- ⌊ --></mml:mo>
                                    <mml:mo stretchy="false">(</mml:mo>
                                    <mml:mi>p</mml:mi>
                                    <mml:mo>&#x2212;<!-- − --></mml:mo>
                                    <mml:mn>1</mml:mn>
                                    <mml:mo stretchy="false">)</mml:mo>
                                    <mml:msub>
                                      <mml:mi>log</mml:mi>
                                      <mml:mrow class="MJX-TeXAtom-ORD">
                                        <mml:mn>10</mml:mn>
                                      </mml:mrow>
                                    </mml:msub>
                                    <mml:mo>&#x2061;<!-- ⁡ --></mml:mo>
                                    <mml:mi>b</mml:mi>
                                    <mml:mo fence="false" stretchy="false"
                                      >&#x230B;<!-- ⌋ --></mml:mo>
                                  </mml:mtd>
                                  <mml:mtd>
                                    <mml:mspace width="1em"/>
                                    <mml:mtext>otherwise</mml:mtext>
                                  </mml:mtd>
                                </mml:mtr>
                              </mml:mtable>
                            </mml:mfenced>
                          </mml:mtd>
                        </mml:mtr>
                      </mml:mtable>
                    </mml:math>
                  </d:informalequation><d:screen>    FLT_DIG 6
    DBL_DIG 10
    LDBL_DIG 10</d:screen></d:para>
              </d:listitem>
              <d:listitem>
                <d:para>minimum negative integer such that <d:code>FLT_RADIX</d:code> raised to one
                  less than that power is a normalized floating-point number, <d:inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mtext>e</mml:mtext>
                          <mml:mtext>min</mml:mtext>
                        </mml:msub>
                      </mml:mrow>
                    </mml:math>
                  </d:inlineequation><d:screen>    FLT_MIN_EXP
    DBL_MIN_EXP
    LDBL_MIN_EXP</d:screen></d:para>
              </d:listitem>
              <d:listitem>
                <d:para>minimum negative integer such that 10 raised to that power is in the range
                  of normalized floating-point numbers, <d:inlineequation>
                    <mml:math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mml:mo fence="false" stretchy="false">&#x2308;<!-- ⌈ --></mml:mo>
                      <mml:msub>
                        <mml:mi>log</mml:mi>
                        <mml:mrow class="MJX-TeXAtom-ORD">
                          <mml:mn>10</mml:mn>
                        </mml:mrow>
                      </mml:msub>
                      <mml:mo>&#x2061;<!-- ⁡ --></mml:mo>
                      <mml:msup>
                        <mml:mi>b</mml:mi>
                        <mml:mrow class="MJX-TeXAtom-ORD">
                          <mml:msub>
                            <mml:mi>e</mml:mi>
                            <mml:mrow class="MJX-TeXAtom-ORD">
                              <mml:mi>m</mml:mi>
                              <mml:mi>i</mml:mi>
                              <mml:mi>n</mml:mi>
                            </mml:mrow>
                          </mml:msub>
                          <mml:mo>&#x2212;<!-- − --></mml:mo>
                          <mml:mn>1</mml:mn>
                        </mml:mrow>
                      </mml:msup>
                      <mml:mo fence="false" stretchy="false">&#x2309;<!-- ⌉ --></mml:mo>
                    </mml:math>
                  </d:inlineequation><d:screen>    FLT_MIN_10_EXP -37
    DBL_MIN_10_EXP -37
    LDBL_MIN_10_EXP -37</d:screen></d:para>
              </d:listitem>
              <d:listitem>
                <d:para>maximum integer such that <d:code>FLT_RADIX</d:code> raised to one less than
                  that power is a representable finite floating-point number, <d:inlineequation>
                    <mml:math>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mtext>e</mml:mtext>
                          <mml:mtext>max</mml:mtext>
                        </mml:msub>
                      </mml:mrow>
                    </mml:math>
                  </d:inlineequation><d:screen>    FLT_MAX_EXP
    DBL_MAX_EXP
    LDBL_MAX_EXP</d:screen></d:para>
              </d:listitem>
              <d:listitem>
                <d:para>maximum integer such that 10 raised to that power is in the range of
                  representable finite floating-point numbers, <d:inlineequation>
                    <mml:math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mml:mo fence="false" stretchy="false">&#x230A;<!-- ⌊ --></mml:mo>
                      <mml:msub>
                        <mml:mi>log</mml:mi>
                        <mml:mrow class="MJX-TeXAtom-ORD">
                          <mml:mn>10</mml:mn>
                        </mml:mrow>
                      </mml:msub>
                      <mml:mo>&#x2061;<!-- ⁡ --></mml:mo>
                      <mml:mo stretchy="false">(</mml:mo>
                      <mml:mo stretchy="false">(</mml:mo>
                      <mml:mn>1</mml:mn>
                      <mml:mo>&#x2212;<!-- − --></mml:mo>
                      <mml:msup>
                        <mml:mi>b</mml:mi>
                        <mml:mrow class="MJX-TeXAtom-ORD">
                          <mml:mo>&#x2212;<!-- − --></mml:mo>
                          <mml:mi>p</mml:mi>
                        </mml:mrow>
                      </mml:msup>
                      <mml:mo stretchy="false">)</mml:mo>
                      <mml:msup>
                        <mml:mi>b</mml:mi>
                        <mml:mrow class="MJX-TeXAtom-ORD">
                          <mml:msub>
                            <mml:mi>e</mml:mi>
                            <mml:mrow class="MJX-TeXAtom-ORD">
                              <mml:mi>m</mml:mi>
                              <mml:mi>a</mml:mi>
                              <mml:mi>x</mml:mi>
                            </mml:mrow>
                          </mml:msub>
                        </mml:mrow>
                      </mml:msup>
                      <mml:mo stretchy="false">)</mml:mo>
                      <mml:mo fence="false" stretchy="false">&#x230B;<!-- ⌋ --></mml:mo>
                    </mml:math>
                  </d:inlineequation>The values given in the following list shall be replaced by
                  constant expressions with implementation-defined values that are greater than or
                  equal to those shown:</d:para>
              </d:listitem>
              <d:listitem>
                <d:para>maximum representable finite floating-point number, <d:inlineequation>
                    <mml:math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mml:mo stretchy="false">(</mml:mo>
                      <mml:mn>1</mml:mn>
                      <mml:mo>&#x2212;<!-- − --></mml:mo>
                      <mml:msup>
                        <mml:mi>b</mml:mi>
                        <mml:mrow class="MJX-TeXAtom-ORD">
                          <mml:mo>&#x2212;<!-- − --></mml:mo>
                          <mml:mi>p</mml:mi>
                        </mml:mrow>
                      </mml:msup>
                      <mml:mo stretchy="false">)</mml:mo>
                      <mml:msup>
                        <mml:mi>b</mml:mi>
                        <mml:mrow class="MJX-TeXAtom-ORD">
                          <mml:msub>
                            <mml:mi>e</mml:mi>
                            <mml:mrow class="MJX-TeXAtom-ORD">
                              <mml:mi>m</mml:mi>
                              <mml:mi>a</mml:mi>
                              <mml:mi>x</mml:mi>
                            </mml:mrow>
                          </mml:msub>
                        </mml:mrow>
                      </mml:msup>
                    </mml:math>
                  </d:inlineequation><d:screen>    FLT_MAX 1E+37
    DBL_MAX 1E+37
    LDBL_MAX 1E+37</d:screen>The
                  values given in the following list shall be replaced by constant expressions with
                  implementation-defined (positive) values that are less than or equal to those
                  shown:</d:para>
              </d:listitem>
              <d:listitem>
                <d:para>the difference between 1 and the least value greater than 1 that is
                  representable in the given floating point type, <d:inlineequation>
                    <mml:math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mml:msup>
                        <mml:mi>b</mml:mi>
                        <mml:mrow class="MJX-TeXAtom-ORD">
                          <mml:mn>1</mml:mn>
                          <mml:mo>&#x2212;<!-- − --></mml:mo>
                          <mml:mi>p</mml:mi>
                        </mml:mrow>
                      </mml:msup>
                    </mml:math>
                  </d:inlineequation><d:screen>    FLT_EPSILON 1E-5
    DBL_EPSILON 1E-9
    LDBL_EPSILON 1E-9</d:screen></d:para>
              </d:listitem>
              <d:listitem>
                <d:para>minimum normalized positive floating-point number, <d:inlineequation>
                    <mml:math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mml:msup>
                        <mml:mi>b</mml:mi>
                        <mml:mrow class="MJX-TeXAtom-ORD">
                          <mml:msub>
                            <mml:mi>e</mml:mi>
                            <mml:mrow class="MJX-TeXAtom-ORD">
                              <mml:mi>m</mml:mi>
                              <mml:mi>i</mml:mi>
                              <mml:mi>n</mml:mi>
                            </mml:mrow>
                          </mml:msub>
                          <mml:mo>&#x2212;<!-- − --></mml:mo>
                          <mml:mn>1</mml:mn>
                        </mml:mrow>
                      </mml:msup>
                    </mml:math>
                  </d:inlineequation></d:para>
              </d:listitem>
            </d:itemizedlist>
          </d:sect4>
          <d:sect4>
            <d:title>Recommended Practice</d:title>
            <d:para>Conversion from (at least) double to decimal with <d:code>DECIMAL_DIG</d:code>
              digits and back should be the identity function.</d:para>
            <d:para>EXAMPLE 1 The following describes an artificial floating-point representation
              that meets the minimum requirements of this International Standard, and the
              appropriate values in a <d:code>&lt;float.h&gt;</d:code> header for type
                <d:code>float</d:code>:<d:informalequation>
                <mml:math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
                  <mml:mi>x</mml:mi>
                  <mml:mo>=</mml:mo>
                  <mml:mi>s</mml:mi>
                  <mml:msup>
                    <mml:mn>16</mml:mn>
                    <mml:mi>e</mml:mi>
                  </mml:msup>
                  <mml:munderover>
                    <mml:mo>&#x2211;<!-- ∑ --></mml:mo>
                    <mml:mrow class="MJX-TeXAtom-ORD">
                      <mml:mi>k</mml:mi>
                      <mml:mo>=</mml:mo>
                      <mml:mn>1</mml:mn>
                    </mml:mrow>
                    <mml:mn>6</mml:mn>
                  </mml:munderover>
                  <mml:msub>
                    <mml:mi>f</mml:mi>
                    <mml:mi>k</mml:mi>
                  </mml:msub>
                  <mml:msup>
                    <mml:mn>16</mml:mn>
                    <mml:mrow class="MJX-TeXAtom-ORD">
                      <mml:mo>&#x2212;<!-- − --></mml:mo>
                      <mml:mi>k</mml:mi>
                    </mml:mrow>
                  </mml:msup>
                  <mml:mo>,</mml:mo>
                  <mml:mtext>&#xA0;</mml:mtext>
                  <mml:mo>&#x2212;<!-- − --></mml:mo>
                  <mml:mn>31</mml:mn>
                  <mml:mo>&#x2264;<!-- ≤ --></mml:mo>
                  <mml:mtext>&#xA0;</mml:mtext>
                  <mml:mi>e</mml:mi>
                  <mml:mtext>&#xA0;</mml:mtext>
                  <mml:mo>&#x2264;<!-- ≤ --></mml:mo>
                  <mml:mtext>&#xA0;</mml:mtext>
                  <mml:mo>+</mml:mo>
                  <mml:mn>32</mml:mn>
                </mml:math>
              </d:informalequation><d:screen>    FLT_RADIX                   16
    FLT_MANT_DIG                 6
    FLT_EPSILON    9.53674316E-07F
    FLT_DIG                      6
    FLT_MIN_EXP                -31
    FLT_MIN        2.93873588E-39F
    FLT_MIN_10_EXP             -38
    FLT_MAX_EXP                +32
    FLT_MAX        3.40282347E+38F
    FLT_MAX_10_EXP             +38</d:screen></d:para>
            <d:para>EXAMPLE 2 The following describes floating-point representations that also meet
              the requirements for single-precision and double-precision normalized numbers in IEC
              60559, <d:footnote>
                <d:para>The floating-point model in that standard sums powers of b from zero, so the
                  values of the exponent limits are one less than shown here.</d:para>
              </d:footnote> and the appropriate values in a &lt;float.h&gt; header for types
                <d:code>float</d:code> and <d:code>double</d:code>:<d:informalequation>
                <mml:math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
                  <mml:mi>x</mml:mi>
                  <mml:mo>=</mml:mo>
                  <mml:mi>s</mml:mi>
                  <mml:msup>
                    <mml:mn>2</mml:mn>
                    <mml:mi>e</mml:mi>
                  </mml:msup>
                  <mml:munderover>
                    <mml:mo>&#x2211;<!-- ∑ --></mml:mo>
                    <mml:mrow class="MJX-TeXAtom-ORD">
                      <mml:mi>k</mml:mi>
                      <mml:mo>=</mml:mo>
                      <mml:mn>1</mml:mn>
                    </mml:mrow>
                    <mml:mn>2</mml:mn>
                  </mml:munderover>
                  <mml:mn>4</mml:mn>
                  <mml:msub>
                    <mml:mi>f</mml:mi>
                    <mml:mi>k</mml:mi>
                  </mml:msub>
                  <mml:msup>
                    <mml:mn>2</mml:mn>
                    <mml:mrow class="MJX-TeXAtom-ORD">
                      <mml:mo>&#x2212;<!-- − --></mml:mo>
                      <mml:mi>k</mml:mi>
                    </mml:mrow>
                  </mml:msup>
                  <mml:mo>,</mml:mo>
                  <mml:mtext>&#xA0;</mml:mtext>
                  <mml:mo>&#x2212;<!-- − --></mml:mo>
                  <mml:mn>125</mml:mn>
                  <mml:mo>&#x2264;<!-- ≤ --></mml:mo>
                  <mml:mtext>&#xA0;</mml:mtext>
                  <mml:mi>e</mml:mi>
                  <mml:mtext>&#xA0;</mml:mtext>
                  <mml:mo>&#x2264;<!-- ≤ --></mml:mo>
                  <mml:mtext>&#xA0;</mml:mtext>
                  <mml:mo>+</mml:mo>
                  <mml:mn>128</mml:mn>
                </mml:math>
              </d:informalequation>
              <d:informalequation>
                <mml:math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
                  <mml:mi>x</mml:mi>
                  <mml:mo>=</mml:mo>
                  <mml:mi>s</mml:mi>
                  <mml:msup>
                    <mml:mn>2</mml:mn>
                    <mml:mi>e</mml:mi>
                  </mml:msup>
                  <mml:munderover>
                    <mml:mo>&#x2211;<!-- ∑ --></mml:mo>
                    <mml:mrow class="MJX-TeXAtom-ORD">
                      <mml:mi>k</mml:mi>
                      <mml:mo>=</mml:mo>
                      <mml:mn>1</mml:mn>
                    </mml:mrow>
                    <mml:mn>5</mml:mn>
                  </mml:munderover>
                  <mml:mn>3</mml:mn>
                  <mml:msub>
                    <mml:mi>f</mml:mi>
                    <mml:mi>k</mml:mi>
                  </mml:msub>
                  <mml:msup>
                    <mml:mn>2</mml:mn>
                    <mml:mrow class="MJX-TeXAtom-ORD">
                      <mml:mo>&#x2212;<!-- − --></mml:mo>
                      <mml:mi>k</mml:mi>
                    </mml:mrow>
                  </mml:msup>
                  <mml:mo>,</mml:mo>
                  <mml:mtext>&#xA0;</mml:mtext>
                  <mml:mo>&#x2212;<!-- − --></mml:mo>
                  <mml:mn>1024</mml:mn>
                  <mml:mo>&#x2264;<!-- ≤ --></mml:mo>
                  <mml:mtext>&#xA0;</mml:mtext>
                  <mml:mi>e</mml:mi>
                  <mml:mtext>&#xA0;</mml:mtext>
                  <mml:mo>&#x2264;<!-- ≤ --></mml:mo>
                  <mml:mtext>&#xA0;</mml:mtext>
                  <mml:mo>+</mml:mo>
                  <mml:mn>1024</mml:mn>
                </mml:math>
              </d:informalequation><d:screen>    FLT_RADIX                        2
    DECIMAL_DIG                     17
    FLT_MANT_DIG                    24
    FLT_EPSILON        1.19209290E-07F // decimal constant
    FLT_EPSILON               0x1P-23F // hex constant
    FLT_DIG                          6
    FLT_MIN_EXP                   -125
    FLT_MIN            1.17549435E-38F // decimal constant
    FLT_MIN                  0X1P-126F // hex consttant
    FLT_MIN_10_EXP                 -37
    FLT_MAX_EXP                   +128
    FLT_MAX            3.40282347E+38F // decimal constant
    FLT_MAX            0X1.fffffeP127F // hex constant
    FLT_MAX_10_EXP                 +38
    DBL_MANT_DIG                    53
    DBL_EPSILON 2.2204460492503131E-16 // deciaml constant
    DBL_EPSILON                0X1P-52 // hex constant
    DBL_DIG                         15
    DBL_MIN_EXP                  -1021
    DBL_MIN    2.2250738585072014E-308 // deciaml constant
    DBL_MIN                  0X1P-1022 // hex constant
    DBL_MIN_10_EXP                -307
    DBL_MAX_EXP                  +1024
    DBL_MAX    1.7976931348623157E+308 // decimal constant
    DBL_MAX     0X1.fffffffffffffP1023 // hex constant
    DBL_MAX_10_EXP                +308</d:screen></d:para>
            <d:para>If a type wider than double were supported, then <d:code>DECIMAL_DIG</d:code>
              would be greater than 17. For example, if the widest type were to use the
              minimal-width IEC 60559 double-extended format (64 bits of precision), then
                <d:code>DECIMAL_DIG</d:code> would be 21.</d:para>
            <d:para><d:emphasis role="bold">Forward references:</d:emphasis> conditional inclusion
              (Conditional Inclusion), complex arithmetic <d:code>&lt;complex.h&gt;</d:code>
              (Complex arithmetic <d:code>&lt;complex.h&gt;,</d:code> extended multibyte and wide
              character utilities <d:code>&lt;wchar.h&gt;</d:code> (Extended multibyte and wide
              character utilities <d:code>&lt;wchar.h&gt;</d:code>), floating-point environment
                <d:code>&lt;fenv.h&gt;</d:code> (Floating-point environment
                <d:code>&lt;fenv.h&gt;</d:code>), general utilities
                <d:code>&lt;stdlib.h&gt;</d:code> (General utilities
                <d:code>&lt;stdlib.h&gt;</d:code>), input/output <d:code>&lt;stdio.h&gt;</d:code>
              (Input/output <d:code>&lt;stdio.h&gt;</d:code>), mathematics
                <d:code>&lt;math.h&gt;</d:code> (Mathematics
              <d:code>&lt;math.h&gt;</d:code>).</d:para>
          </d:sect4>
        </d:sect3>
      </d:sect2>
    </d:sect1>
</d:chapter>
