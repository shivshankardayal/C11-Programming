<html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><title>Chapter 26. Signal handling &lt;signal.h></title><link href="../css/bootstrap.css" rel="stylesheet" type="text/css"/><link href="../css/style.css" rel="stylesheet" type="text/css"/><meta content="DocBook XSL-NS Stylesheets V1.76.1" name="generator"/><link href="../index.html" rel="home" title="C Programming with C99"/><link href="../index.html" rel="up" title="C Programming with C99"/><link href="../setjmp/index.html" rel="prev" title="Chapter 25. Nonlocal jumps &lt;setjmp.h>"/><link href="../stdarg/index.html" rel="next" title="Chapter 27. Variable arguments &lt;stdarg.h>"/><script src="/css/jquery.js" type="text/javascript" xmlns:d="http://docbook.org/ns/docbook" xmlns:exsl="http://exslt.org/common" xmlns:fo="http://www.w3.org/1999/XSL/Format"></script><script src="/css/bootstrap.js" type="text/javascript" xmlns:d="http://docbook.org/ns/docbook" xmlns:exsl="http://exslt.org/common" xmlns:fo="http://www.w3.org/1999/XSL/Format"></script><script src="/css/analytics.js" type="text/javascript" xmlns:d="http://docbook.org/ns/docbook" xmlns:exsl="http://exslt.org/common" xmlns:fo="http://www.w3.org/1999/XSL/Format"></script></head><body alink="#0000FF" bgcolor="white" link="#0000FF" text="black" vlink="#840084"><div id="navbar" class="navbar navbar-fixed-top">    <div class="navbar-inner">      <div class="container-fluid">      <a class="brand" href="../../">Home</a>      <a class="brand" href="../">Books</a>  <ul class="nav">  <li class="dropdown">      <a href="#"            class="dropdown-toggle"            data-toggle="dropdown">Chapter 26. Signal handling &lt;signal.h><b class="caret"></b>      </a>      <ul class="dropdown-menu"><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="index.html#idp5122400">26.1. Specify signal handling</a></span></dt><dd><dl><dt><span class="sect2"><a href="index.html#idp5123136">26.1.1. The signal function</a></span></dt></dl></dd><dt><span class="sect1"><a href="index.html#idp2592944">26.2. Send signal</a></span></dt><dd><dl><dt><span class="sect2"><a href="index.html#idp2593680">26.2.1. The raise function</a></span></dt></dl></dd></dl></div>     </ul>    </li>  </ul> <ul class="nav"><li><a href="../setjmp/index.html">&lt;&lt; Chapter 25. Nonlocal jumps &lt;setjmp.h> </a><li><li><a href="../stdarg/index.html"> Chapter 27. Variable arguments &lt;stdarg.h> >></a><li></ul>    </div>    </div>  </div><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">Chapter 26. Signal handling &lt;signal.h></th></tr><tr><td align="left" width="20%"><a accesskey="p" href="../setjmp/index.html">Prev</a> </td><th align="center" width="60%"> </th><td align="right" width="20%"> <a accesskey="n" href="../stdarg/index.html">Next</a></td></tr></table><hr/></div><div class="chapter" title="Chapter 26. Signal handling &lt;signal.h>"><div class="titlepage"><div><div><h2 class="title"><a name="idp5271680"></a>Chapter 26. Signal handling &lt;signal.h></h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="index.html#idp5122400">26.1. Specify signal handling</a></span></dt><dd><dl><dt><span class="sect2"><a href="index.html#idp5123136">26.1.1. The signal function</a></span></dt></dl></dd><dt><span class="sect1"><a href="index.html#idp2592944">26.2. Send signal</a></span></dt><dd><dl><dt><span class="sect2"><a href="index.html#idp2593680">26.2.1. The raise function</a></span></dt></dl></dd></dl></div><p>The header <code class="code">&lt;signal.h></code> declares a type and two
  functions and defines several macros, for handling various signals
  (conditions that may be reported during program execution).</p><p>The type defined is</p><div class="blockquote"><blockquote class="blockquote"><p><code class="code">sig_atomic_t</code></p></blockquote></div><p>which is the (possibly volatile-qualified) integer type of an object
  that can be accessed as an atomic entity, even in the presence of
  asynchronous interrupts.</p><p>The macros defiend are</p><div class="blockquote"><blockquote class="blockquote"><p><code class="code">SIG_DFL</code></p><p><code class="code">SIG_ERR</code></p><p><code class="code">SIG_IGN</code></p></blockquote></div><p>which expand to constant expressions with distinct values that have
  type compatible with the second argument to, and the return value of, the
  <code class="code">signal</code> function, and whose values compare unequal to the
  address of any declarable function; and the following, which expand to
  positive integer constant expressions with type <code class="code">int</code> and
  distinct values that are the signal numbers, each corresponding to the
  specified condition:</p><div class="blockquote"><blockquote class="blockquote"><p><code class="code">SIGABRT</code> abnormal termination, such as
  is initiated by the <code class="code">abort</code> function</p><p><code class="code">SIGFPE</code>  an erroneous arithmetic operation, such as
  zero divide or an operation resulting in overflow</p><p><code class="code">SIGILL</code> detection of an invalid function image, such
  as an invalid instruction</p><p><code class="code">SIGINT</code> receipt of an interactive attention
  signal</p><p><code class="code">SIGSEGV</code> an invalid access to storage</p><p><code class="code">SIGTERM</code> a termination request sent to the
  program</p></blockquote></div><p>An implementation need not generate any of these signals, except as a
  result of explicit calls to the <code class="code">raise</code> function. Additional
  signals and pointers to undeclarable functions, with macro definitions
  beginning, respectively, with the letters SIG and an uppercase letter or with
  <code class="code">SIG_</code> and an uppercase letter,<sup>[<a class="footnote" href="#ftn.idp5121312" name="idp5121312">188</a>]</sup> may also be specified by
  the implementation. The complete set of signals, their semantics, and their
  default handling is implementation-defined; all signal numbers shall be
  positive.</p><div class="sect1" title="26.1. Specify signal handling"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp5122400"></a>26.1. Specify signal handling</h2></div></div></div><div class="sect2" title="26.1.1. The signal function"><div class="titlepage"><div><div><h3 class="title"><a name="idp5123136"></a>26.1.1. The signal function</h3></div></div></div><p><span class="bold"><strong>Synopsis</strong></span></p><pre class="CLexer"><div class="highlight"><pre><span class="cp">#include &lt;signal.h&gt;</span>
<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">signal</span><span class="p">(</span><span class="kt">int</span> <span class="n">sig</span><span class="p">,</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">func</span><span class="p">)(</span><span class="kt">int</span><span class="p">)))(</span><span class="kt">int</span><span class="p">);</span>
</pre></div>
</pre><p><span class="bold"><strong>Description</strong></span></p><p>The <code class="code">signal</code> function chooses one of three ways in which
receipt of the signal number <code class="code">sig</code> is to be subsequently
handled. If the value of func is <code class="code">SIG_DFL</code>, default handling for
that signal will occur. If the value of func is <code class="code">SIG_IGN</code>, the
signal will be ignored. Otherwise, func shall point to a function to be called
when that signal occurs. An invocation of such a function because of a signal,
or (recursively) of any further functions called by that invocation (other than
functions in the standard library), is called a signal handler.</p><p>When a signal occurs and <code class="code">func</code> points to a function, it
is implementation-defined whether the equivalent of <code class="code">signal(sig,
SIG_DFL);</code> is executed or the implementation prevents some
implementation-defined set of signals (at least including <code class="code">sig</code>)
from occurring until the current signal handling has completed; in the case of
<code class="code">SIGILL</code>, the implementation may alternatively define that no
action is taken. Then the equivalent of <code class="code">(*func)(sig);</code> is
executed. If and when the function returns, if the value of sig is
<code class="code">SIGFPE, SIGILL, SIGSEGV</code> or any other implementation-defined
value corresponding to a computational exception, the behavior is undefined;
otherwise the program will resume execution at the point it was
interrupted.</p><p>If the signal occurs as the result of calling the
<code class="code">abort</code> or <code class="code">raise</code> function, the signal handler
shall not call the raise function.</p><p>If the signal occurs other than as the result of calling the
<code class="code">abort</code> or <code class="code">raise</code> function, the behavior is
undefined if the signal handler refers to any object with static storage
duration other than by assigning a value to an object declared as
<code class="code">volatile sig_atomic_t</code> or the signal handler calls any function
in the standard library other than the abort function, the
<code class="code">_Exit</code> function or the <code class="code">signal</code> function with
the first argument equal to the signal number corresponding to the signal that
caused the invocation of the handler. Furthermore, if such a call to the
<code class="code">signal</code> function results in a <code class="code">SIG_ERR</code> return,
the value of <code class="code">errno</code> is indeterminate.<sup>[<a class="footnote" href="#ftn.idp5152880" name="idp5152880">189</a>]</sup></p><p>At program startup, the equivalent of</p><pre class="CLexer"><div class="highlight"><pre><span class="n">signal</span><span class="p">(</span><span class="n">sig</span><span class="p">,</span> <span class="n">SIG_IGN</span><span class="p">);</span>
</pre></div>
</pre><p>may be executed for some signals selected in an implementation-defined
manner; the equivalent of</p><pre class="CLexer"><div class="highlight"><pre><span class="n">signal</span><span class="p">(</span><span class="n">sig</span><span class="p">,</span> <span class="n">SIG_DFL</span><span class="p">);</span>
</pre></div>
</pre><p>is executed for all other signals defined by the
implementation.</p><p>The implementation shall behave as if no library function calls the
<code class="code">signal</code> function.</p><p><span class="bold"><strong>Returns</strong></span></p><p>If the request can be honored, the <code class="code">signal</code> function
returns the value of <code class="code">func</code> for the most recent successful call
to <code class="code">signal</code> for the specified signal
<code class="code">sig</code>. Otherwise, a value of <code class="code">SIG_ERR</code> is
returned and a positive value is stored in <code class="code">errno</code>.</p><p><span class="bold"><strong>Forward references:</strong></span> the
<code class="code">abort</code> function (The abort function), the <code class="code">exit</code>
function (The exit function), the <code class="code">_Exit</code> function (The _Exit
function).</p></div></div><div class="sect1" title="26.2. Send signal"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp2592944"></a>26.2. Send signal</h2></div></div></div><div class="sect2" title="26.2.1. The raise function"><div class="titlepage"><div><div><h3 class="title"><a name="idp2593680"></a>26.2.1. The raise function</h3></div></div></div><p><span class="bold"><strong>Synopsis</strong></span></p><pre class="CLexer"><div class="highlight"><pre><span class="cp">#include &lt;signal.h&gt;</span>
<span class="kt">int</span> <span class="nf">raise</span><span class="p">(</span><span class="kt">int</span> <span class="n">sig</span><span class="p">);</span>
</pre></div>
</pre><p><span class="bold"><strong>Description</strong></span></p><p>The <code class="code">raise</code> function carries out the actions described
in The signal function for the signal <code class="code">sig</code>. If a signal handler
is called, the <code class="code">raise</code> function shall not return until after the
signal handler does.</p><p><span class="bold"><strong>Returns</strong></span></p><p>The <code class="code">raise</code> function returns zero if successful, nonzero
if unsuccessful.</p></div></div><div class="footnotes"><br/><hr align="left" width="100"/><div class="footnote"><p><sup>[<a class="para" href="#idp5121312" id="ftn.idp5121312">188</a>] </sup>The names
  of the signal numbers reflect the following terms (respectively): abort,
  floating-point exception, illegal instruction, interrupt, segmentation
  violation, and termination.</p></div><div class="footnote"><p><sup>[<a class="para" href="#idp5152880" id="ftn.idp5152880">189</a>] </sup>If any
signal is generated by an asynchronous signal handler, the behavior is
undefined.</p></div></div></div><div class="navfooter"><hr/><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="../setjmp/index.html">Prev</a> </td><td align="center" width="20%"> </td><td align="right" width="40%"> <a accesskey="n" href="../stdarg/index.html">Next</a></td></tr><tr><td align="left" valign="top" width="40%">Chapter 25. Nonlocal jumps &lt;setjmp.h> </td><td align="center" width="20%"><a accesskey="h" href="../index.html">Home</a></td><td align="right" valign="top" width="40%"> Chapter 27. Variable arguments &lt;stdarg.h></td></tr></table></div><p style="text-align: center;" xmlns:d="http://docbook.org/ns/docbook" xmlns:exsl="http://exslt.org/common" xmlns:fo="http://www.w3.org/1999/XSL/Format">© 2010, 2013 Shiv S. Dayal. <a href="http://libreprogramming.org">libreprogramming.org</a>.
    GNU FDL license is applicable where not stated.</p></body></html>